{"version":3,"sources":["webpack:///src/view/system/database/huizong.vue","webpack:///./src/view/system/database/huizong.vue?30be","webpack:///./src/view/system/database/huizong.vue"],"names":["huizong","computed","extends_default","Object","vuex_esm","xx","state","usable","this","opType","data","tableData","dialog_item","formData","tempData","total","title","flagOptions","detailitemflag","label","buttonShow","search","searchText","pageNumber","pageSize","rules","summarycode","required","message","trigger","summaryname","hiscode","methods","handelSubmit","funCheckFormData","handelUpdataDW","handelInsert","_this","summaryname2","api","then","res","code","$message","success","funGetAllData","error","getPinCode","pinyincode","getPinYin","getData","_this2","$refs","ruleForm","validate","valid","handelAddItem","unitcode","unitname","handelDelete","row","_this3","$confirm","confirmButtonText","cancelButtonText","type","splice","catch","handelView","handelUpdata","dialogClose","_this4","$nextTick","resetFields","_this5","rows","getDataBySearch","handelPageChange","page","_this6","mounted","database_huizong","render","_vm","_h","$createElement","_c","_self","attrs","span","suffix-icon","clearable","placeholder","on","blur","$event","nativeOn","keyup","_k","keyCode","key","model","value","callback","$$v","$set","expression","_v","align","size","icon","click","staticStyle","margin-top","width","cell-dblclick","prop","header-align","scopedSlots","_u","fn","scope","staticClass","src","__webpack_require__","float","background","layout","current-page","page-size","current-change","center","visible","close","update:visible","ref","label-width","disabled","_l","item","_e","staticRenderFns","Component","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/17.69042889abad464ab2a2.js","sourcesContent":["<template>\r\n  <section>\r\n    <el-row>\r\n      <el-col :span=\"8\">\r\n        <el-input v-model=\"search.searchText\" suffix-icon=\"el-icon-search\"\r\n        @keyup.enter.native=\"getData()\" clearable\r\n        @blur=\"getDataBySearch()\"\r\n         placeholder=\"请输入您想查询的汇总项目编码、名称或拼音码\"></el-input>\r\n      </el-col>\r\n      <el-col :span=\"15\" align=\"right\">\r\n        <el-button @click=\"handelAddItem\"\r\n         size=\"small\" type=\"primary\" icon=\"el-icon-plus\">新 增</el-button>\r\n      </el-col>\r\n      <el-col :span=\"24\" style=\"margin-top: 16px\">\r\n        <el-table :data=\"tableData\"\r\n        @cell-dblclick=\"handelView\"\r\n         style=\"width: 100%;\">\r\n          <el-table-column\r\n            prop=\"summarycode\"\r\n            label=\"汇总项目编码\"\r\n            width=\"160\">\r\n          </el-table-column>\r\n          <el-table-column\r\n            prop=\"summaryname\" header-align=\"center\" align=\"center\"\r\n            label=\"汇总项目名称\">\r\n          </el-table-column>\r\n          <el-table-column\r\n            prop=\"pinyincode\" header-align=\"center\" align=\"center\"\r\n            label=\"拼音码\">\r\n          </el-table-column>\r\n          <el-table-column header-align=\"center\" width=\"120\"\r\n            label=\"操作\">\r\n            <template slot-scope=\"scope\">\r\n              <el-button-group>\r\n                <span class=\"icon-button-img\" @click=\"handelDelete(scope.row)\" ><img src=\"../../../assets/imgs/delete.png\"></span>\r\n                <span class=\"icon-button-img\" @click=\"handelUpdata(scope.row)\"><img src=\"../../../assets/imgs/edit.png\"></span>\r\n              </el-button-group>\r\n            </template>\r\n          </el-table-column>\r\n        </el-table>\r\n      </el-col>\r\n      <el-col :span=\"24\" class=\"toolbar\">\r\n        <el-pagination background layout=\"total, prev, pager, next, jumper\" @current-change=\"handelPageChange\" :current-page=\"search.pageNumber\" :page-size=\"search.pageSize\" :total=\"total\" style=\"float:right;\">\r\n        </el-pagination>\r\n      </el-col>\r\n    </el-row>\r\n    <el-dialog :title=\"'项目汇总 ' + title\" center\r\n    width=\"50%\"\r\n    @close=\"dialogClose\"\r\n    :visible.sync=\"dialog_item\">\r\n      <el-row>\r\n        <el-form :model=\"formData\" label-width=\"100px\"\r\n        :rules=\"rules\" ref=\"ruleForm\">\r\n        <el-col :span=\"24\">\r\n          <el-form-item label=\"汇总编码\" prop=\"summarycode\">\r\n            <el-input v-model=\"formData.summarycode\" :disabled=\"usable\"></el-input>\r\n          </el-form-item>\r\n         <el-form-item label=\"汇总名称\" prop=\"summaryname\">\r\n            <el-input v-model=\"formData.summaryname\"\r\n            @blur=\"getPinCode\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"项目类别\" prop=\"detailitemflag\">\r\n            <el-select v-model=\"formData.detailitemflag\"\r\n            style=\"width: 100%\" placeholder=\"请选择\">\r\n              <el-option\r\n                v-for=\"item in flagOptions\"\r\n                :key=\"item.detailitemflag\"\r\n                :label=\"item.label\"\r\n                :value=\"item.detailitemflag\">\r\n              </el-option>\r\n            </el-select>\r\n          </el-form-item>\r\n          <el-form-item label=\"拼音码\" prop=\"\">\r\n            <el-input v-model=\"formData.pinyincode\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"HIS编码\" prop=\"hiscode\">\r\n            <el-input v-model=\"formData.hiscode\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"备注\" prop=\"\">\r\n            <el-input type=\"textarea\" :rows=\"2\" placeholder=\"请输入内容\" \r\n            v-model=\"formData.remark\">\r\n            </el-input>\r\n          </el-form-item>\r\n        </el-col>\r\n        </el-form>\r\n        <el-col class=\"toolbar\" align='center'>\r\n          <el-button size=\"small\" @click=\"dialog_item=false\">取消</el-button>\r\n          <el-button type=\"primary\" size=\"small\" v-if=\"buttonShow\" @click=\"handelSubmit()\">确定</el-button>\r\n        </el-col>\r\n      </el-row>\r\n    </el-dialog>\r\n  </section>\r\n</template>\r\n<script>\r\nimport {\r\n  deleteSummaryItem, // 删除单位\r\n  updateWesternDistionary, // 修改药品信息\r\n  getWesternDistionaryTable, // 西药列表\r\n  getSummaryItem, // 获取单位列表\r\n  insertSummaryItem, // 添加单位\r\n  updateSummaryItem, // 更新单位\r\n} from '../../../api'\r\nimport {convertPinyin} from '../../../util/getPinYin'\r\nimport {mapState} from 'vuex'\r\nexport default {\r\n  computed:{\r\n    ...mapState('database',{\r\n      xx: state => state.xx,\r\n    }),\r\n    usable:function (){\r\n      if(this.opType=='add'){\r\n        return false\r\n      }else{\r\n        return true\r\n      }\r\n    }\r\n  },\r\n  data(){\r\n    return{\r\n      tableData: [], //表格数据\r\n      dialog_item: false, // 弹窗显示\r\n      opType: 'add',\r\n      formData: {},\r\n      tempData: '', // 保存修改\r\n      total: 0, // 分页 总条数\r\n      title: '',\r\n      flagOptions: [ // 项目类别\r\n        { detailitemflag: 0, label: '检查'},\r\n        { detailitemflag: 1, label: '检验'},\r\n      ], \r\n      buttonShow: false, // 确定是否显示\r\n      search:{\r\n        searchText: '',\r\n        pageNumber: 1,\r\n        pageSize: 10,\r\n      },\r\n      rules:{\r\n        summarycode: [{ required: true, message: '请输入汇总项目编码', trigger: 'blur' }],\r\n        summaryname: [{ required: true, message: '请输入汇总项目名称', trigger: 'blur' }],\r\n        detailitemflag: [{ required: true, message: '请选择项目类别', trigger: 'blur' }],\r\n        hiscode: [{ required: true, message: '请输入HIS编码', trigger: 'blur' }],\r\n      }\r\n    }\r\n  },\r\n  methods:{\r\n    handelSubmit(){ // 确定操作\r\n      if(this.opType=='add'){\r\n        this.funCheckFormData()\r\n      }else{\r\n        this.handelUpdataDW()\r\n      }\r\n    },\r\n    handelInsert(){ // 插入数据\r\n      this.formData.summaryname2  = this.formData.summaryname\r\n      insertSummaryItem(this.formData).then(res=>{\r\n        if(res.data.code=='0'){\r\n          this.$message.success('保存成功！')\r\n          this.dialog_item = false\r\n          this.funGetAllData()\r\n        }else{\r\n          this.$message.error('保存失败！')\r\n        }\r\n      })\r\n    },\r\n    getPinCode(){ // 获取拼音码\r\n     if(this.formData.summaryname && this.opType=='add')\r\n     this.formData.pinyincode = convertPinyin(this.formData.summaryname)\r\n    },\r\n    funGetAllData(){ // 获取全部\r\n      this.search.searchText = ''\r\n      this.pageNumber = 1\r\n      this.getData()\r\n    },\r\n    funCheckFormData(){ // 检查数据\r\n      this.$refs.ruleForm.validate((valid) => {\r\n        if(valid){\r\n          this.handelInsert()\r\n        }\r\n      })\r\n    },\r\n    handelAddItem(){ // 添加\r\n      this.title = '新增'\r\n      this.opType = 'add'\r\n      this.formData = {\r\n        unitcode: '',\r\n        unitname: ''\r\n      }\r\n      this.dialog_item = true\r\n      this.buttonShow = true\r\n    },\r\n    handelDelete(row){ // 列表项删除\r\n      this.$confirm('确定要执行删除操作？','操作提示',{\r\n        confirmButtonText: '确定',\r\n        cancelButtonText: '取消',\r\n        type: 'warning'\r\n      }).then(()=>{ // 删除确定\r\n        deleteSummaryItem({summarycode: row.summarycode}).then(res=>{\r\n          if(res.data.code == '0'){\r\n            this.$message.success(\"删除成功!\")\r\n          }\r\n        })\r\n        this.tableData.splice(row,1)\r\n      }).catch(()=>{ // 删除取消\r\n        \r\n      })\r\n    },\r\n    handelView(row){ // 查看详情\r\n      this.title = '查看'\r\n      this.opType='view'\r\n      this.formData = {...row}\r\n      this.dialog_item = true\r\n    },\r\n    handelUpdata(row){ // 修改按钮\r\n      this.title = '修改'\r\n      this.opType='edit'\r\n      this.tempData = row.unitname\r\n      this.buttonShow = true\r\n      this.dialog_item = true\r\n      this.tempData = row.summaryname\r\n      this.formData = row\r\n    },\r\n    dialogClose(){ // 对话框关闭回调\r\n      this.buttonShow = false\r\n      this.formData = {} //  移除表单数据\r\n      this.$nextTick(()=>{\r\n        this.$refs.ruleForm.resetFields()\r\n      })\r\n    },\r\n    getData(){ // 获取列表数据\r\n      getSummaryItem(this.search).then(res=>{\r\n        if(res.data.code==\"0\"){\r\n          this.tableData = res.data.data.rows\r\n          this.total = res.data.data.total\r\n        }else{\r\n          this.tableData = []\r\n          this.total = 0\r\n        }\r\n      })\r\n    },\r\n    getDataBySearch(){ // 搜索框查询\r\n        this.search.pageNumber = 1\r\n        this.getData()\r\n    },\r\n    handelPageChange(page){ // 翻页\r\n      this.search.pageNumber = page\r\n      this.getData()\r\n    },\r\n    handelUpdataDW(){ // 更新数据\r\n      this.formData.summaryname2 = this.formData.summaryname\r\n      this.formData.summaryname = this.tempData\r\n      updateSummaryItem(this.formData).then(res=>{\r\n        if(res.data.code=='0'){\r\n          this.$message.success('修改成功!')\r\n          this.getData()\r\n          this.dialog_item = false\r\n        }else{\r\n          this.$message.error('修改失败!')\r\n        }\r\n      })\r\n    }\r\n  },\r\n  mounted(){\r\n    this.getData() // 列表初始数据\r\n  }\r\n}\r\n</script>\r\n<style scoped>\r\n\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/view/system/database/huizong.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',[_c('el-row',[_c('el-col',{attrs:{\"span\":8}},[_c('el-input',{attrs:{\"suffix-icon\":\"el-icon-search\",\"clearable\":\"\",\"placeholder\":\"请输入您想查询的汇总项目编码、名称或拼音码\"},on:{\"blur\":function($event){_vm.getDataBySearch()}},nativeOn:{\"keyup\":function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }_vm.getData()}},model:{value:(_vm.search.searchText),callback:function ($$v) {_vm.$set(_vm.search, \"searchText\", $$v)},expression:\"search.searchText\"}})],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":15,\"align\":\"right\"}},[_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"primary\",\"icon\":\"el-icon-plus\"},on:{\"click\":_vm.handelAddItem}},[_vm._v(\"新 增\")])],1),_vm._v(\" \"),_c('el-col',{staticStyle:{\"margin-top\":\"16px\"},attrs:{\"span\":24}},[_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.tableData},on:{\"cell-dblclick\":_vm.handelView}},[_c('el-table-column',{attrs:{\"prop\":\"summarycode\",\"label\":\"汇总项目编码\",\"width\":\"160\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"summaryname\",\"header-align\":\"center\",\"align\":\"center\",\"label\":\"汇总项目名称\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"pinyincode\",\"header-align\":\"center\",\"align\":\"center\",\"label\":\"拼音码\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"header-align\":\"center\",\"width\":\"120\",\"label\":\"操作\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button-group',[_c('span',{staticClass:\"icon-button-img\",on:{\"click\":function($event){_vm.handelDelete(scope.row)}}},[_c('img',{attrs:{\"src\":require(\"../../../assets/imgs/delete.png\")}})]),_vm._v(\" \"),_c('span',{staticClass:\"icon-button-img\",on:{\"click\":function($event){_vm.handelUpdata(scope.row)}}},[_c('img',{attrs:{\"src\":require(\"../../../assets/imgs/edit.png\")}})])])]}}])})],1)],1),_vm._v(\" \"),_c('el-col',{staticClass:\"toolbar\",attrs:{\"span\":24}},[_c('el-pagination',{staticStyle:{\"float\":\"right\"},attrs:{\"background\":\"\",\"layout\":\"total, prev, pager, next, jumper\",\"current-page\":_vm.search.pageNumber,\"page-size\":_vm.search.pageSize,\"total\":_vm.total},on:{\"current-change\":_vm.handelPageChange}})],1)],1),_vm._v(\" \"),_c('el-dialog',{attrs:{\"title\":'项目汇总 ' + _vm.title,\"center\":\"\",\"width\":\"50%\",\"visible\":_vm.dialog_item},on:{\"close\":_vm.dialogClose,\"update:visible\":function($event){_vm.dialog_item=$event}}},[_c('el-row',[_c('el-form',{ref:\"ruleForm\",attrs:{\"model\":_vm.formData,\"label-width\":\"100px\",\"rules\":_vm.rules}},[_c('el-col',{attrs:{\"span\":24}},[_c('el-form-item',{attrs:{\"label\":\"汇总编码\",\"prop\":\"summarycode\"}},[_c('el-input',{attrs:{\"disabled\":_vm.usable},model:{value:(_vm.formData.summarycode),callback:function ($$v) {_vm.$set(_vm.formData, \"summarycode\", $$v)},expression:\"formData.summarycode\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"汇总名称\",\"prop\":\"summaryname\"}},[_c('el-input',{on:{\"blur\":_vm.getPinCode},model:{value:(_vm.formData.summaryname),callback:function ($$v) {_vm.$set(_vm.formData, \"summaryname\", $$v)},expression:\"formData.summaryname\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"项目类别\",\"prop\":\"detailitemflag\"}},[_c('el-select',{staticStyle:{\"width\":\"100%\"},attrs:{\"placeholder\":\"请选择\"},model:{value:(_vm.formData.detailitemflag),callback:function ($$v) {_vm.$set(_vm.formData, \"detailitemflag\", $$v)},expression:\"formData.detailitemflag\"}},_vm._l((_vm.flagOptions),function(item){return _c('el-option',{key:item.detailitemflag,attrs:{\"label\":item.label,\"value\":item.detailitemflag}})}))],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"拼音码\",\"prop\":\"\"}},[_c('el-input',{model:{value:(_vm.formData.pinyincode),callback:function ($$v) {_vm.$set(_vm.formData, \"pinyincode\", $$v)},expression:\"formData.pinyincode\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"HIS编码\",\"prop\":\"hiscode\"}},[_c('el-input',{model:{value:(_vm.formData.hiscode),callback:function ($$v) {_vm.$set(_vm.formData, \"hiscode\", $$v)},expression:\"formData.hiscode\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"备注\",\"prop\":\"\"}},[_c('el-input',{attrs:{\"type\":\"textarea\",\"rows\":2,\"placeholder\":\"请输入内容\"},model:{value:(_vm.formData.remark),callback:function ($$v) {_vm.$set(_vm.formData, \"remark\", $$v)},expression:\"formData.remark\"}})],1)],1)],1),_vm._v(\" \"),_c('el-col',{staticClass:\"toolbar\",attrs:{\"align\":\"center\"}},[_c('el-button',{attrs:{\"size\":\"small\"},on:{\"click\":function($event){_vm.dialog_item=false}}},[_vm._v(\"取消\")]),_vm._v(\" \"),(_vm.buttonShow)?_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":function($event){_vm.handelSubmit()}}},[_vm._v(\"确定\")]):_vm._e()],1)],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-b832fe8c\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/view/system/database/huizong.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-b832fe8c\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./huizong.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./huizong.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./huizong.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-b832fe8c\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./huizong.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-b832fe8c\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/view/system/database/huizong.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}