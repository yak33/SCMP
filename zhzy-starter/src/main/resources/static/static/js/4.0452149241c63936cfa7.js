webpackJsonp([4],{C9xh:function(t,e){},JgSL:function(t,e){},mopB:function(t,e){},tBay:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("bOdI"),n=a.n(i),l=a("Gu7T"),s=a.n(l),c=a("Dd8w"),o=a.n(c),r=a("gyMJ"),d=a("NYxO"),u={computed:o()({},Object(d.d)("patient",{registrationNum:function(t){return t.registrationNum},empBasicMainID:function(t){return t.empBasicMainID}})),watch:{getServerList:{immediate:!0,handler:function(t,e){var a=this;t.length>0&&t.forEach(function(t){t.checkFlag==a.flag&&a.tabelList.push(t)})}}},props:{flag:{type:Number,default:0},jianceExistArr:{type:Array},getServerList:{type:Array}},data:function(){return{treeData:[],props1:{label:"name",children:"zones"},tabelList:[],summaryCode:"",listData:[]}},methods:{handleNodeClick:function(t,e){var a=this;this.treeData.forEach(function(e){if(e.id==t.id){if(e.children)return;Object(r.C)({summaryCode:t.id}).then(function(t){"0"==t.data.code?(t.data.data.forEach(function(t){t.label=t.detailItemName,t.id=t.detailItemCode}),e.children=t.data.data):e.children=[],a.treeData=[].concat(s()(a.treeData))})}})},handlePrint:function(){var t=this.$router.resolve({path:"/print/check",query:{id:this.registrationNum,flag:this.flag}});window.open(t.href,"_blank")},handleAdd:function(t){var e=!1;this.tabelList.forEach(function(a){a.detailItemCode!=t.detailItemCode||(e=!0)}),e?this.$message.warning("项目已存在，请勿重复添加!"):null!=t.price?(this.tabelList.push(t),this.tabelList=[].concat(s()(this.tabelList))):this.$message.warning("项目价格为空，不能添加!")},handelDelete:function(t,e){this.tabelList.splice(e.$index,1)},handleSave:function(){var t=this;0==this.tabelList.length&&this.$message.warning("没有选中的项目!"),Object(r._55)({empBasicMainID:this.empBasicMainID,checkFlag:this.flag,summaryCode:this.summaryCode,checkItemList:this.tabelList}).then(function(e){if("0"==e.data.code){t.$message.success("保存成功");var a="";t.tabelList.forEach(function(t){a+=t.detailItemName+" "}),t.$emit("get-data",{flag:t.flag,content:a})}})},handleSelectionChange:function(t,e){this.tabelList=t}},mounted:function(){var t=this;Object(r.D)({detailItemFlag:this.flag}).then(function(e){e.data.data.forEach(function(e){t.treeData.push({id:e.summaryCode,label:e.summaryName})})})}},h={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("el-row",[i("el-col",{staticClass:"check-tree",attrs:{span:8}},[i("el-tree",{ref:"tree",attrs:{data:t.treeData,"default-expand-all":!0},on:{"node-click":t.handleNodeClick},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.node,n=e.data;return i("span",{staticClass:"custom-tree-node"},[i("span",[t._v(t._s(a.label))]),t._v(" "),i("span",{directives:[{name:"show",rawName:"v-show",value:n.detailItemCode,expression:"data.detailItemCode"}]},[i("el-button",{attrs:{type:"text",size:"medium"},on:{click:function(e){t.handleAdd(n)}}},[t._v("\n              ￥"+t._s(n.price?n.price:0)+"\n            ")]),t._v(" "),i("el-button",{attrs:{type:"text",size:"medium"},on:{click:function(e){t.handleAdd(n)}}},[t._v("\n              添加\n            ")])],1)])}}])})],1),t._v(" "),i("el-col",{attrs:{span:15,offset:1}},[i("el-table",{ref:"checkTable",staticStyle:{width:"100%",height:"448px","overflow-y":"scroll"},attrs:{data:t.tabelList},on:{"selection-change":t.handleSelectionChange}},[i("el-table-column",{attrs:{prop:"detailItemName",label:"项目(已选)",align:"center"}}),t._v(" "),i("el-table-column",{attrs:{prop:"price",label:"单价",align:"center"}}),t._v(" "),i("el-table-column",{attrs:{label:"操作",align:"center",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-button-group",[i("span",{staticClass:"icon-button-img",on:{click:function(a){t.handelDelete(e.row,e)}}},[i("img",{attrs:{src:a("DKbd")}})])])]}}])})],1)],1),t._v(" "),i("el-col",{staticClass:"toolbar",attrs:{span:24,align:"center"}},[i("el-button",{attrs:{type:"primary"},on:{click:function(e){t.handlePrint()}}},[t._v("打 印")]),t._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:t.handleSave}},[t._v("保 存")])],1)],1)},staticRenderFns:[]};var g={props:["num"],data:function(){return{listData:[]}},methods:{handelLinkTo:function(){}},mounted:function(){var t=this;Object(r.V)({mecidalNum:this.num}).then(function(e){"0"==e.data.code&&(t.listData=e.data.data)})}},m={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",[a("el-row",[a("el-col",{staticClass:"case",attrs:{span:24}},t._l(t.listData,function(e){return a("div",{key:e.registrationNum,staticClass:"case-item"},[a("div",{staticClass:"case-item-topbar"}),t._v(" "),a("div",{staticClass:"case-item-content"},[a("span",[t._v("就诊日期")]),t._v(": "+t._s(e.onSetDate)+"\r\n        ")]),t._v(" "),a("div",{staticClass:"case-item-content"},[a("span",[t._v("就诊号")]),t._v(": "+t._s(e.registrationNum)+"\r\n        ")]),t._v(" "),a("div",{staticClass:"case-item-content"},[a("span",[t._v("科室")]),t._v(": "+t._s(e.deptName)+"\r\n        ")]),t._v(" "),a("div",{staticClass:"case-item-content"},[a("span",[t._v("诊治医生")]),t._v(": "+t._s(e.userName)+"\r\n        ")]),t._v(" "),a("div",{staticClass:"case-item-link"},[a("div",[t._v("复制病例")]),a("div",[a("router-link",{attrs:{to:"case_info?id="+e.registrationNum+"&mn="+e.mecidalNum}},[t._v("查看详情")])],1)])])}))],1)],1)},staticRenderFns:[]};var p={components:{"item-select":a("VU/8")(u,h,!1,function(t){a("mopB")},"data-v-43610ddf",null).exports,"case-list":a("VU/8")(g,m,!1,function(t){a("JgSL")},null,null).exports},computed:o()({},Object(d.b)({getDrugWay:"common/getDrugWay"}),{isAnorectal:function(){return!!this.$route.path.includes("anorectal")}},Object(d.d)("common",{frequencyList:function(t){return t.frequency}}),Object(d.d)("patient",{mecidalNum:function(t){return t.mecidalNum},registrationNum:function(t){return t.registrationNum},empBasicMainID:function(t){return t.empBasicMainID},deptCode:function(t){return t.deptCode}}),{titleList:function(){return this.xiyaoTitleList},linzhengTitle:function(){return this.linzhengTitleList},linzhengCompData:{get:function(){var t=this,e=[];return this.linzhengTitleList.forEach(function(a){a.id==t.linzhengActiveId&&(e=a.data)}),e},set:function(){return this.linzhengCompData}},xiyaoListData:{get:function(){var t=this,e=[];return this.xiyaoTitleList.forEach(function(a){a.id==t.xiyaoActiveId&&(e=a.data)}),e},set:function(){return this.xiyaoListData}}}),watch:{},data:function(){return{activeTag:"1",activeName:"menzhen",activeTagIndex:40,searchTpl:"",searchText:"",dialog_check1:!1,dialog_check0:!1,dialogXiYao:!1,dialogXiYaoSelect:!1,dataFlag:0,pushCheckData:[],dialogLinZheng:!1,dialogLinZhengAdd:!1,zhiliaoData1:[],zhiliaoData2:[],xiyaoTitleList:[],xiyaoActiveId:1,xiyaoItemExistCheck:[],dialog_xiyao:!1,searchXY:"",xybmText:"",xyData:[],linzhengListData:[],linzhengList:[],linzhengExistItem:[],linzhengSearchText:"",linzhengActiveId:1,linzhengTitleList:[],linZhengShowText:"",jianceExist:[{data:""},{data:""}],tableArgs:{searchText:"",pageSize:10,pageNumber:1},total:0,xiyaoList:[],jianyanText:"",jianceText:"",xiyaoShowText:"",tplData:[],xiyaoItemObj:{drugName:"",drugCode:"",fangJiSubCode:"",fangJiSubID:"",empBasicMainID:"",consumptionValue:0,drugWayCodeValue:"",frequencyCodeValue:"",useDaysValue:"",totalAmountValue:"",quanitityValue:"",lPriceValue:"",signDrugWay:"",wholeMoneyValue:""}}},methods:o()({},Object(d.c)("common",["getFrequency"]),{tplFilter:function(t){return!(this.searchTpl&&!t.usedPhrasesName.includes(this.searchTpl))},handelLinZhengList:function(){this.dialogLinZhengAdd=!0,this.getLinZhengListData()},handelSaveLinZhengData:function(){var t=this;if(this.linzhengTitleList<1)this.$message.error("请选择添加处方!");else if(void 0===this.linzhengTitleList[0]||this.linzhengTitleList[0].data.length<1)this.$message.error("请选择添加处方项目!");else{var e=[];this.linzhengTitleList.forEach(function(a){void 0!==a.data&&0!==a.data.length?e.push({empBasicMainID:t.empBasicMainID,getDetailList:a.data}):t.$message.error("请选择添加处方项目!")}),Object(r._60)(e).then(function(a){if("0"===a.data.code){t.$message.success("保存成功");var i="";e.forEach(function(t){t.getDetailList.forEach(function(t){i+=t.detailItemName+" "}),i+=";"}),t.linZhengShowText=i,t.dialogLinZheng=!1}else t.$message.error("保存失败")})}},getLinZhengListData:function(){var t=this;Object(r._30)({searchText:this.linzhengSearchText}).then(function(e){t.linzhengList=e.data.data})},handelDbSelectLZ:function(t){var e=this,a=!1;if(this.linzhengCompData.find(function(e){e.detailItemCode==t.detailItemCode&&(a=!0)}),a)this.$message.error("项目已存在列表中!");else for(var i=function(a){e.linzhengTitleList[a].id===e.linzhengActiveId&&Object(r._29)({detailItemCode:t.detailItemCode}).then(function(i){"0"==i.data.code?(t.price=i.data.data[0].price,e.linzhengTitleList[a].data.push(t),e.linzhengTitleList=[].concat(s()(e.linzhengTitleList)),e.$message.success("项目添加成功!")):e.$message.warning("获取项目详情失败!")})},n=0;n<this.linzhengTitleList.length;n++)i(n)},pagePrint:function(){window.open("#/printPage?id="+this.registrationNum,"_blank")},handelxybm:function(){this.dialog_xiyao=!0,this.xybmText="",this.handelSearchXY()},handelSearchXY:function(){var t=this;Object(r.z)({searchText:this.searchXY}).then(function(e){t.xyData=e.data.data})},handleFinish:function(){var t=this;this.handelSaveEmpBasic(),Object(r._57)({registrationNum:sessionStorage.getItem("current_registrationNum")}).then(function(e){"0"==e.data.code?(t.$message.success("就诊已完成!"),t.$router.push("list")):t.$message.error("保存失败!")})},handlePrint:function(t){var e="/print/western";"linzheng"==t&&(e="/print/linzheng");var a=this.$router.resolve({path:e,query:{id:this.registrationNum}});window.open(a.href,"_blank")},handelSelectXiYi:function(t){this.xybmText=t.westernMedicineName,sessionStorage.setItem("zhzy_gcxt_xybm_name",t.westernMedicineName),sessionStorage.setItem("zhzy_gcxt_xybm_code",t.westernMedicineCode),this.dialog_xiyao=!1},handelSaveEmpBasic:function(){var t=this,e=function(t){return document.getElementById(t).innerText},a={};a.empBasicMainID=this.empBasicMainID,a.chiefComplaint=e("text-40"),a.physicalExamination=e("text-50"),a.historyPresent=e("text-10"),a.historyPast=e("text-30"),a.historyAllergic=e("text-20"),Object(r._64)(a).then(function(e){"0"==e.data.code?t.$message.success("保存成功!"):t.$message.error("保存失败!")})},handelGetEmpBasic:function(){var t=function(t,e){e||(e=""),document.getElementById(t).innerText=e};Object(r.W)({registrationNum:this.registrationNum}).then(function(e){if("0"===e.data.code){var a=e.data.data[0];t("text-40",a.chiefComplaint),t("text-50",a.physicalExamination),t("text-10",a.historyPresent),t("text-30",a.historyPast),t("text-20",a.historyAllergic)}})},handelSelect:function(t){this.activeTagIndex!=t.target.dataset.index&&(document.querySelector(".bingqing-active").className="",t.target.className="bingqing-active",this.activeTagIndex=t.target.dataset.index,this.searchTpl="",this.getTpl())},handelAddText:function(t){t+=" ",document.querySelector("#text-"+this.activeTagIndex).textContent+=t},handleCheck:function(t){0==t?this.dialog_check0=!0:this.dialog_check1=!0},getDataCheck:function(t){0==t.flag?this.jianceText=t.content+" ":this.jianyanText=t.content+" "},handleClose:function(){},handleNodeClick:function(t){},handelSelectTab:function(t){document.querySelector(".top-select-active").className="",t.target.className="top-select-active",this.activeTag=t.target.dataset.index},getTpl:function(){var t=this,e="10001";"10004"==sessionStorage.getItem("current_deptCode")&&(e="10004"),Object(r._10)({usedPhrasesType:this.activeTagIndex,deptCode:e,searchText:this.searchText}).then(function(e){"0"==e.data.code?t.tplData=e.data.data:t.tplData=[]})},handelLink:function(){!this.isAnorectal||this.xybmText?(this.handelSaveEmpBasic(),"1"==this.activeTag&&this.$router.push("selectSymptom"),"2"==this.activeTag&&this.$router.push("selectTreatment"),"3"==this.activeTag&&this.$router.push("immediate")):this.$message.error("请先选择西医病名！")},handelAddChuFang:function(){var t=this,e=this.xiyaoTitleList.length;if(0!=e){var a=this.xiyaoTitleList[e-1];Object(r.a)().then(function(e){t.xiyaoTitleList.push({id:a.id+1,data:[],operaType:0,fangJiSubCode:e.data.data.getBillCode})})}else Object(r.a)().then(function(e){t.xiyaoTitleList.push({id:1,data:[],operaType:0,fangJiSubCode:e.data.data.getBillCode})})},handelAddChuZhi:function(){var t=this.linzhengTitleList.length||0;if(0!=t){var e=this.linzhengTitleList[t-1]||0;this.linzhengTitleList.push({id:e.id+1,data:[]})}else this.linzhengTitleList.push({id:1,data:[]})},handleLinZhengItemDelete:function(t,e){this.linzhengCompData.splice(t,1)},handelDelLinZheng:function(t){this.linzhengTitleList.splice(this.linzhengTitleList.indexOf(t),1)},handelDelTitle:function(t){var e=this;"1"==t.operaType?Object(r.n)({empBasicMainID:this.empBasicMainID,fangJiSubID:t.fangJiSubID}).then(function(a){"1"===a.data.code?(e.$message.success("删除成功!"),e.xiyaoTitleList.splice(e.xiyaoTitleList.indexOf(t),1)):e.$message.error("删除失败!")}):this.xiyaoTitleList.splice(this.xiyaoTitleList.indexOf(t),1)},handelActiveLinZheng:function(t,e){this.linzhengActiveId=t.id,document.querySelector(".title-linzheng-list .active")&&(document.querySelector(".title-linzheng-list .active").className=""),e.target.className="active"},handelActive:function(t,e){this.xiyaoActiveId=t.id,document.querySelector(".title-list .active")&&(document.querySelector(".title-list .active").className=""),e.target.className="active"},handelXiyaoList:function(){this.dialogXiYaoSelect=!0,this.tableArgs.searchText="",this.tableArgs.pageNumber=1,this.handelGetXiYaoTable()},handelGetXYList:function(){var t=this,e=0;Object(r.X)({empBasicMainID:this.empBasicMainID}).then(function(a){"1"!==a.data.code?a.data.data.forEach(function(a){t.xiyaoTitleList[e]={id:e+1,data:[],operaType:1,fangJiSubID:a.fangJiSubID,fangJiSubCode:a.fangJiSubCode},t.handelGetWesternDrugByFangJiSubID(e,a.fangJiSubID),e++}):t.handelAddChuFang()})},funSetXYOperaType:function(){this.xiyaoTitleList.forEach(function(t){t.operaType=1})},handelGetWesternDrugByFangJiSubID:function(t,e){var a=this;Object(r._32)({empBasicMainID:this.empBasicMainID,fangJiSubID:e}).then(function(e){if("0"===e.data.code){var i="";e.data.data.forEach(function(e){var l;i+=e.drugName+"  ",a.xiyaoTitleList[t].data.push((l={drugCode:e.drugCode,drugName:e.drugName,frequencyCode:e.frequencyCode,drugWayCode:e.drugWayCode,packageUnits:e.packageUnits,measurementCoefficient:e.measurementCoefficient,prescriptionUnitName:e.prescriptionUnitName,consumption:e.singleMeasure,singleMeasureUnitName:e.singleMeasureUnitName,totalAmountUnitName:e.totalAmountUnitName},n()(l,"prescriptionUnitName",e.prescriptionUnitName),n()(l,"useDays",e.useDays),n()(l,"totalAmount","0"),n()(l,"quanitity",0),n()(l,"lprice",e.lprice),n()(l,"wholeMoney","0.00"),l))}),a.xiyaoTitleList[t].data.forEach(function(t){a.computeRowdata(0,t)}),a.xiyaoTitleList=[].concat(s()(a.xiyaoTitleList)),a.xiyaoShowText+=i+";"}else a.xiyaoTitleList[t].data=[]})},handelSaveXiyiChufang:function(){var t=this,e=[],a=!0;this.xiyaoTitleList.forEach(function(i){i.data.length>0?(i.data.forEach(function(t){t.useDays&&t.quanitity&&t.frequencyCode||(a=!1)}),e.push({empBasicMainID:t.empBasicMainID,fangJiSubID:i.fangJiSubID||0,fangJiSubCode:i.fangJiSubCode,fangJiSubName:"",operaType:i.operaType,fangJiDetailSubList:i.data})):a=!1}),a&&0!=e.length?Object(r._61)(e).then(function(a){if("1"===a.data.code){t.$message.success("西药处方保存成功"),t.dialogXiYao=!1,t.funSetXYOperaType();var i="";e.forEach(function(t){t.fangJiDetailSubList.forEach(function(t){i+=t.drugName+" "}),i+=";"}),t.xiyaoShowText=i}else t.$message.success("西药处方保存失败")}):this.$message.error("请将数据信息填写完整!")},handleChuFangItemDelete:function(t,e){this.xiyaoListData.splice(t,1)},handelGetXiYaoTable:function(){var t=this;Object(r._34)(this.tableArgs).then(function(e){"0"==e.data.code?(t.xiyaoList=e.data.data.content,t.total=e.data.data.total):(t.xiyaoList=[],t.total=0)})},handelDbSelectItem:function(t){var e=this,a=!1;if(this.xiyaoListData.find(function(e){e.drugCode==t.drugCode&&(a=!0)}),a)this.$message.error("药品已存在列表中!");else{this.xiyaoItemObj.drugName=t.drugName,this.xiyaoItemObj.drugCode=t.drugCode;for(var i=function(a){e.xiyaoTitleList[a].id===e.xiyaoActiveId&&Object(r._33)({searchText:t.drugCode}).then(function(t){if("0"==t.data.code){var i,l=t.data.data.content[0];e.xiyaoTitleList[a].data.push((i={drugCode:l.drugCode,drugName:l.drugName,frequencyCode:"",drugWayCode:l.drugWayCode,packageUnits:l.packageUnits,measurementCoefficient:l.measurementCoefficient,prescriptionUnitName:l.prescriptionUnitName,consumption:l.singleMeasure,singleMeasureUnitName:l.singleMeasureUnitName,totalAmountUnitName:l.totalAmountUnitName},n()(i,"prescriptionUnitName",l.prescriptionUnitName),n()(i,"useDays",l.useDays),n()(i,"totalAmount","0"),n()(i,"quanitity",0),n()(i,"lprice",l.lprice),n()(i,"wholeMoney","0.00"),i))}})},l=0;l<this.xiyaoTitleList.length;l++)i(l);this.dialogXiYaoSelect=!1}},computeRowdata:function(t,e){var a={coefficient:0};e.frequencyCode&&(a=this.frequencyList.find(function(t){return t.frequencyCode==e.frequencyCode})),e.quanitity=Math.ceil(e.useDays*a.coefficient*e.consumption/e.measurementCoefficient),e.totalAmount=a.coefficient*e.consumption*e.useDays,e.wholeMoney=(e.lprice*e.quanitity*100/100).toFixed(2)},handlePageChange:function(t){this.tableArgs.pageNumber=t,this.handelGetXiYaoTable()},handelXiYao:function(){this.dialogXiYao=!0},handelZhiLiao:function(){this.dialogLinZheng=!0},getSavedData:function(){var t=this;Object(r._35)({empBasicMainID:this.empBasicMainID}).then(function(e){"0"===e.data.code&&(t.pushCheckData=e.data.data,e.data.data.forEach(function(e){0===e.checkFlag?t.jianceExist[0].data+=e.detailItemName+"   ":t.jianceExist[1].data+=e.detailItemName+"   "}),t.jianyanText=t.jianceExist[1].data,t.jianceText=t.jianceExist[0].data)})},getFangJiCode:function(){var t=this;Object(r.a)().then(function(e){t.xiyaoTitleList[0].code=e.data.data.getBillCode})},getLZZL:function(){var t=this;Object(r._36)({empBasicMainID:this.empBasicMainID}).then(function(e){if("1"!=e.data.code){if(null===e.data.data||0==e.data.data.length)return e.data.data=[],void(t.linzhengTitleList[0]={id:1,data:[]});var a=0,i="";e.data.data.forEach(function(e){t.linzhengExistItem.indexOf(e.fangJiSubCode)<0?(t.linzhengExistItem.push(e.fangJiSubCode),t.linzhengTitleList[a]={id:a+1,data:[]},t.linzhengTitleList[a].data.push(e),i+=e.detailItemName+" ",a++):(i+=e.detailItemName+" ",t.linzhengTitleList[a-1].data.push(e))}),t.linZhengShowText+=i+";",t.linzhengTitleList=[].concat(s()(t.linzhengTitleList))}else t.linzhengTitleList[0]={id:1,data:[]}})}}),created:function(){this.empBasicMainID||this.$router.push("list")},mounted:function(){this.getTpl(),this.getFrequency(),sessionStorage.removeItem("zhzy_gcxt_xybm_name"),sessionStorage.removeItem("zhzy_gcxt_xybm_code"),this.getSavedData(),this.handelGetEmpBasic(),this.handelGetXYList(),this.getLZZL()}},v={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("section",[i("el-tabs",{staticClass:"el-col el-col-24",attrs:{type:"card"},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[i("el-tab-pane",{attrs:{label:"门诊记录",name:"menzhen"}},[i("el-row",[i("el-col",{staticClass:"top-select-tab",attrs:{span:24}},[i("span",{staticClass:"top-select-active",attrs:{"data-index":"1"},on:{click:t.handelSelectTab}},[t._v("辨证论治")]),t._v(" "),i("span",{attrs:{"data-index":"2"},on:{click:t.handelSelectTab}},[t._v("证型治法")]),t._v(" "),i("span",{attrs:{"data-index":"3"},on:{click:t.handelSelectTab}},[t._v("直接开方")])]),t._v(" "),i("el-col",{staticClass:"bingqing",attrs:{span:24}},[i("div",{staticClass:"bingqing-left"},[i("div",{staticClass:"bingqing-active",attrs:{"data-index":"40"},on:{click:t.handelSelect}},[t._v("主诉")]),t._v(" "),i("div",{attrs:{"data-index":"10"},on:{click:t.handelSelect}},[t._v("现病史")]),t._v(" "),i("div",{attrs:{"data-index":"30"},on:{click:t.handelSelect}},[t._v("既往史")]),t._v(" "),i("div",{attrs:{"data-index":"20"},on:{click:t.handelSelect}},[t._v("过敏史")]),t._v(" "),i("div",{attrs:{"data-index":"50"},on:{click:t.handelSelect}},[t._v("体格检查")])]),t._v(" "),i("div",{staticClass:"bingqing-mid"},[i("div",{staticStyle:{"margin-right":"12px"}},[i("el-input",{attrs:{"suffix-icon":"el-icon-search",clearable:"",placeholder:"输入您要查找的模板内容"},nativeOn:{keydown:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.getTpl(e):null}},model:{value:t.searchTpl,callback:function(e){t.searchTpl=e},expression:"searchTpl"}})],1),t._v(" "),i("div",{staticClass:"data-box tpl-table-class"},[i("el-table",{staticStyle:{width:"98%"},attrs:{data:t.tplData.filter(t.tplFilter),"show-header":!1}},[i("el-table-column",{attrs:{prop:"usedPhrasesName"}}),t._v(" "),i("el-table-column",{attrs:{width:"80",align:"right"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("img",{staticClass:"arrow-right",attrs:{src:a("LnfO")},on:{click:function(a){t.handelAddText(e.row.usedPhrasesContent)}}})]}}])})],1)],1)]),t._v(" "),i("img",{staticClass:"bingqing-to",attrs:{src:a("xz9t")}}),t._v(" "),i("div",{staticClass:"bingqing-right"},[i("div",{staticClass:"bingqing-content"},[i("div",{staticClass:"bingqing-label"},[t._v("【主诉】")]),t._v(" "),i("div",{staticClass:"bingqing-text",attrs:{id:"text-40",contentEditable:""}})]),t._v(" "),i("div",{staticClass:"bingqing-content"},[i("div",{staticClass:"bingqing-label"},[t._v("【现病史】")]),t._v(" "),i("div",{staticClass:"bingqing-text",attrs:{id:"text-10",contentEditable:""}})]),t._v(" "),i("div",{staticClass:"bingqing-content"},[i("div",{staticClass:"bingqing-label"},[t._v("【既往史】")]),t._v(" "),i("div",{staticClass:"bingqing-text",attrs:{id:"text-30",contentEditable:""}})]),t._v(" "),i("div",{staticClass:"bingqing-content"},[i("div",{staticClass:"bingqing-label"},[t._v("【过敏史】")]),t._v(" "),i("div",{staticClass:"bingqing-text",attrs:{id:"text-20",contentEditable:""}})]),t._v(" "),i("div",{staticClass:"bingqing-content"},[i("div",{staticClass:"bingqing-label"},[t._v("【体格检查】")]),t._v(" "),i("div",{staticClass:"bingqing-text",attrs:{id:"text-50",contentEditable:""}})])])]),t._v(" "),i("el-col",{staticClass:"jiance",attrs:{span:24}},[i("div",{staticClass:"jiance-item"},[i("div",{staticClass:"jiance-label",on:{click:function(e){t.handleCheck(1)}}},[t._v("检验")]),t._v(" "),i("div",{staticClass:"jiance-content all-space-show"},[t._v(t._s(t.jianyanText))])]),t._v(" "),i("div",{staticClass:"jiance-item"},[i("div",{staticClass:"jiance-label",on:{click:function(e){t.handleCheck(0)}}},[t._v("检查")]),t._v(" "),i("div",{staticClass:"jiance-content all-space-show"},[t._v(t._s(t.jianceText))])]),t._v(" "),i("div",{staticClass:"jiance-item"},[i("div",{staticClass:"jiance-label",on:{click:t.handelZhiLiao}},[t._v("临症治疗")]),t._v(" "),i("div",{staticClass:"jiance-content all-space-show"},[t._v(t._s(t.linZhengShowText))])]),t._v(" "),t.isAnorectal?i("div",{staticClass:"jiance-item"},[i("div",{staticClass:"jiance-label",on:{click:t.handelxybm}},[t._v("西医病名")]),t._v(" "),i("div",{staticClass:"jiance-content"},[t._v(t._s(t.xybmText))])]):t._e(),t._v(" "),i("div",{staticClass:"jiance-item"},[i("div",{staticClass:"jiance-label",on:{click:t.handelXiYao}},[t._v("西药处方")]),t._v(" "),i("div",{staticClass:"jiance-content"},[t._v(t._s(t.xiyaoShowText))])]),t._v(" "),"1"==t.activeTag?i("div",{staticClass:"jiance-item"},[i("div",{staticClass:"jiance-label",on:{click:function(e){t.handelLink(1)}}},[t._v("证型选择")]),t._v(" "),i("div",{staticClass:"jiance-content"})]):t._e(),t._v(" "),"2"==t.activeTag?i("div",{staticClass:"jiance-item"},[i("div",{staticClass:"jiance-label",on:{click:function(e){t.handelLink(2)}}},[t._v("证型治法")]),t._v(" "),i("div",{staticClass:"jiance-content"})]):t._e(),t._v(" "),"3"==t.activeTag?i("div",{staticClass:"jiance-item"},[i("div",{staticClass:"jiance-label",on:{click:function(e){t.handelLink(3)}}},[t._v("开 方")]),t._v(" "),i("div",{staticClass:"jiance-content"})]):t._e()])],1),t._v(" "),i("el-row",{staticClass:"toolbar"},[i("el-col",{attrs:{span:12}},[i("el-button",{attrs:{type:"primary"},on:{click:t.pagePrint}},[t._v("打印病例")])],1),t._v(" "),i("el-col",{attrs:{span:12,align:"right"}},[i("el-button",{attrs:{type:"primary"},on:{click:t.handelSaveEmpBasic}},[t._v("保存就诊")]),t._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:function(e){t.handleFinish()}}},[t._v("完成就诊")])],1)],1),t._v(" "),i("el-dialog",{attrs:{visible:t.dialog_check0,width:"66%"},on:{"update:visible":function(e){t.dialog_check0=e}}},[i("item-select",{attrs:{getServerList:t.pushCheckData,jianceExistArr:t.jianceExist,flag:0},on:{"get-data":t.getDataCheck}})],1),t._v(" "),i("el-dialog",{attrs:{visible:t.dialog_check1,width:"66%"},on:{"update:visible":function(e){t.dialog_check1=e}}},[i("item-select",{attrs:{flag:1,jianceExistArr:t.jianceExist,getServerList:t.pushCheckData},on:{"get-data":t.getDataCheck}})],1)],1),t._v(" "),i("el-tab-pane",{attrs:{label:"已存病历",name:"bingli"}},[i("case-list",{attrs:{num:t.mecidalNum}})],1)],1),t._v(" "),i("el-dialog",{attrs:{visible:t.dialog_xiyao,width:"60%"},on:{"update:visible":function(e){t.dialog_xiyao=e}}},[i("el-row",[i("el-col",{attrs:{span:12,offset:6}},[i("el-input",{attrs:{clearable:"",placeholder:"请输入您想要查询的病名或拼音码","prefix-icon":"el-icon-search"},nativeOn:{keydown:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.handelSearchXY(e):null}},model:{value:t.searchXY,callback:function(e){t.searchXY=e},expression:"searchXY"}})],1),t._v(" "),i("el-col",{staticStyle:{"margin-top":"26px"}},[i("el-table",{staticStyle:{width:"100%"},attrs:{height:"480",data:t.xyData},on:{"row-dblclick":t.handelSelectXiYi}},[i("el-table-column",{attrs:{"header-align":"center",align:"center",width:"120",prop:"westernMedicineCode",label:"西医编码"}}),t._v(" "),i("el-table-column",{attrs:{"header-align":"center",align:"center",prop:"westernMedicineName",label:"西医病名"}}),t._v(" "),i("el-table-column",{attrs:{"header-align":"center",align:"center",prop:"pinYinCode",label:"拼音码"}})],1)],1)],1)],1),t._v(" "),i("el-dialog",{attrs:{visible:t.dialogXiYao,width:"90%"},on:{"update:visible":function(e){t.dialogXiYao=e}}},[i("el-row",{staticClass:"linzhengzhiliao"},[i("el-col",{attrs:{span:24}},[i("span",{staticClass:"top-title"},[t._v("已开处方")]),t._v(" "),i("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.handelAddChuFang}},[t._v("添加处方")])],1),t._v(" "),i("el-col",{staticClass:"middle-bar",attrs:{span:24}},[i("span",[t._v(" ")]),t._v(" "),t._l(t.titleList,function(e,a){return i("span",{key:a,staticClass:"title-list"},[i("span",{staticStyle:{"margin-left":"20px"},attrs:{id:"title-item"}},[i("i",{staticClass:"save-btn",on:{click:function(a){t.handelActive(e,a)}}},[t._v("【处方"+t._s(e.id)+"】")]),i("i",{staticClass:"el-icon-delete",staticStyle:{"margin-left":"10px",color:"red"},on:{click:function(a){t.handelDelTitle(e)}}})])])})],2),t._v(" "),i("el-col",{attrs:{span:24}},[i("el-table",{staticStyle:{width:"100%"},attrs:{data:t.xiyaoListData}},[i("el-table-column",{attrs:{label:"医嘱",align:"center"}},[i("el-table-column",{attrs:{prop:"drugName",width:"160px",label:"药品名",align:"center"}}),t._v(" "),i("el-table-column",{attrs:{prop:"packageUnits",width:"100px",label:"规格",align:"center"}})],1),t._v(" "),i("el-table-column",{attrs:{label:"用法",align:"center"}},[i("el-table-column",{attrs:{width:"100px",label:"用量",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-input",{on:{change:function(a){t.computeRowdata(e.$index,e.row)}},model:{value:e.row.consumption,callback:function(a){t.$set(e.row,"consumption",a)},expression:"scope.row.consumption"}})]}}])}),t._v(" "),i("el-table-column",{attrs:{prop:"singleMeasureUnitName",width:"50px",label:"单位",align:"center"}}),t._v(" "),i("el-table-column",{attrs:{"max-width":"120px",label:"用药方式",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-select",{attrs:{filterable:"",placeholder:"请选择"},model:{value:e.row.drugWayCode,callback:function(a){t.$set(e.row,"drugWayCode",a)},expression:"scope.row.drugWayCode"}},t._l(t.getDrugWay,function(t){return i("el-option",{key:t.value,attrs:{label:t.drugWayName,value:t.drugWayCode}})}))]}}])}),t._v(" "),i("el-table-column",{attrs:{"max-width":"120px",label:"用药频率",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-select",{attrs:{filterable:"",placeholder:"请选择"},on:{change:function(a){t.computeRowdata(e.$index,e.row)}},model:{value:e.row.frequencyCode,callback:function(a){t.$set(e.row,"frequencyCode",a)},expression:"scope.row.frequencyCode"}},t._l(t.frequencyList,function(t){return i("el-option",{key:t.value,attrs:{label:t.frequencyName,value:t.frequencyCode}})}))]}}])}),t._v(" "),i("el-table-column",{attrs:{width:"80px",label:"用药天数",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-input",{on:{change:function(a){t.computeRowdata(e.$index,e.row)}},model:{value:e.row.useDays,callback:function(a){t.$set(e.row,"useDays",a)},expression:"scope.row.useDays"}})]}}])})],1),t._v(" "),i("el-table-column",{attrs:{label:"用量",align:"center"}},[i("el-table-column",{attrs:{width:"80px",label:"总量",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("span",[t._v(t._s(e.row.totalAmount)+" "+t._s(e.row.totalAmountUnitName))])]}}])}),t._v(" "),i("el-table-column",{attrs:{prop:"quanitity",width:"80px",label:"领量",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("span",[t._v(t._s(e.row.quanitity)+" "+t._s(e.row.prescriptionUnitName))])]}}])})],1),t._v(" "),i("el-table-column",{attrs:{prop:"lprice",width:"80px",label:"单价",align:"center"}}),t._v(" "),i("el-table-column",{attrs:{prop:"wholeMoney",width:"80px",label:"金额",align:"center"}}),t._v(" "),i("el-table-column",{attrs:{label:"操作",align:"center",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-button-group",[i("span",{staticClass:"icon-button-img",on:{click:function(a){t.handleChuFangItemDelete(e.$index,e.row)}}},[i("img",{attrs:{src:a("DKbd")}})])])]}}])})],1)],1),t._v(" "),i("el-col",{staticClass:"toolbar",attrs:{align:"center"}},[i("el-button",{attrs:{type:"primary"},on:{click:function(e){t.handlePrint("xiyao")}}},[t._v("打 印")]),t._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:t.handelXiyaoList}},[t._v("添加")]),t._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:t.handelSaveXiyiChufang}},[t._v("保 存")]),t._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:function(e){t.dialogXiYao=!1}}},[t._v("关闭")])],1)],1)],1),t._v(" "),i("el-dialog",{attrs:{visible:t.dialogXiYaoSelect,width:"60%"},on:{"update:visible":function(e){t.dialogXiYaoSelect=e}}},[i("el-row",[i("el-col",{attrs:{offset:7,span:10}},[i("el-input",{attrs:{placeholder:"输入您想查询药品名称或拼音码",clearable:"","suffix-icon":"el-icon-search"},on:{blur:t.handelGetXiYaoTable},nativeOn:{keydown:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.handelGetXiYaoTable(e):null}},model:{value:t.tableArgs.searchText,callback:function(e){t.$set(t.tableArgs,"searchText",e)},expression:"tableArgs.searchText"}})],1),t._v(" "),i("el-col",{staticStyle:{"margin-top":"12px"},attrs:{offset:1,span:22}},[i("el-table",{staticStyle:{width:"100%"},attrs:{data:t.xiyaoList},on:{"cell-dblclick":t.handelDbSelectItem}},[i("el-table-column",{attrs:{prop:"drugName",label:"药品名"}}),t._v(" "),i("el-table-column",{attrs:{prop:"otherName",label:"别名"}}),t._v(" "),i("el-table-column",{attrs:{prop:"inputCode",label:"拼音码"}})],1)],1),t._v(" "),i("el-col",{staticClass:"toolbar",attrs:{offset:1,span:22}},[i("el-pagination",{staticStyle:{float:"right"},attrs:{background:"",layout:"total, prev, pager, next, jumper","current-page":t.tableArgs.pageNumber,"page-size":t.tableArgs.pageSize,total:t.total},on:{"current-change":t.handlePageChange}})],1)],1)],1),t._v(" "),i("el-dialog",{attrs:{visible:t.dialogLinZheng,width:"60%"},on:{"update:visible":function(e){t.dialogLinZheng=e}}},[i("el-row",{staticClass:"linzhengzhiliao"},[i("el-col",{attrs:{span:24}},[i("span",{staticClass:"top-title"},[t._v("已开处方")]),t._v(" "),i("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.handelAddChuZhi}},[t._v("添加处方")])],1),t._v(" "),i("el-col",{staticClass:"middle-bar",attrs:{span:24}},[i("span",[t._v(" ")]),t._v(" "),t._l(t.linzhengTitle,function(e,a){return i("span",{key:a,staticClass:"title-linzheng-list"},[i("span",{staticStyle:{"margin-left":"20px"},attrs:{id:"title-item"}},[i("i",{staticClass:"save-btn",on:{click:function(a){t.handelActiveLinZheng(e,a)}}},[t._v("【处方"+t._s(e.id)+"】")]),t._v(" "),i("i",{staticClass:"el-icon-delete",staticStyle:{"margin-left":"10px",color:"red"},on:{click:function(a){t.handelDelLinZheng(e)}}})])])})],2),t._v(" "),i("el-col",{attrs:{span:24}},[i("el-table",{staticStyle:{width:"100%"},attrs:{height:"360",data:t.linzhengCompData}},[i("el-table-column",{attrs:{prop:"detailItemCode",label:"项目号"}}),t._v(" "),i("el-table-column",{attrs:{prop:"detailItemName",label:"项目名"}}),t._v(" "),i("el-table-column",{attrs:{prop:"price",label:"价格"}}),t._v(" "),i("el-table-column",{attrs:{label:"操作",align:"center",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-button-group",[i("span",{staticClass:"icon-button-img",on:{click:function(a){t.handleLinZhengItemDelete(e.$index,e.row)}}},[i("img",{attrs:{src:a("DKbd")}})])])]}}])})],1)],1),t._v(" "),i("el-col",{staticClass:"toolbar",attrs:{align:"center"}},[i("el-button",{attrs:{type:"primary"},on:{click:function(e){t.handlePrint("linzheng")}}},[t._v("打 印")]),t._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:t.handelLinZhengList}},[t._v("添加")]),t._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:t.handelSaveLinZhengData}},[t._v("保 存")]),t._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:function(e){t.dialogLinZheng=!1}}},[t._v("关闭")])],1)],1)],1),t._v(" "),i("el-dialog",{attrs:{visible:t.dialogLinZhengAdd,width:"60%"},on:{"update:visible":function(e){t.dialogLinZhengAdd=e}}},[i("el-row",[i("el-col",{attrs:{offset:7,span:10}},[i("el-input",{attrs:{placeholder:"请输入项目编号、名称或拼音码搜索","suffix-icon":"el-icon-search"},nativeOn:{keydown:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.getLinZhengListData(e):null}},model:{value:t.linzhengSearchText,callback:function(e){t.linzhengSearchText=e},expression:"linzhengSearchText"}})],1),t._v(" "),i("el-col",{staticStyle:{"margin-top":"12px"},attrs:{offset:1,span:22}},[i("el-table",{staticStyle:{width:"100%"},attrs:{height:"500",data:t.linzhengList},on:{"cell-dblclick":t.handelDbSelectLZ}},[i("el-table-column",{attrs:{prop:"detailItemCode",label:"项目编码"}}),t._v(" "),i("el-table-column",{attrs:{prop:"detailItemName",label:"项目名称"}}),t._v(" "),i("el-table-column",{attrs:{prop:"pinYinCode",label:"拼音码"}})],1)],1)],1)],1)],1)},staticRenderFns:[]};var f=a("VU/8")(p,v,!1,function(t){a("C9xh")},"data-v-6aed4850",null);e.default=f.exports},xz9t:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA0AAAAZCAYAAADqrKTxAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQyIDc5LjE2MDkyNCwgMjAxNy8wNy8xMy0wMTowNjozOSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTggKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjY4MjE1NTdCREI0QTExRThCODA5RTAzRjA1QzdFMjkzIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjY4MjE1NTdDREI0QTExRThCODA5RTAzRjA1QzdFMjkzIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6NjgyMTU1NzlEQjRBMTFFOEI4MDlFMDNGMDVDN0UyOTMiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6NjgyMTU1N0FEQjRBMTFFOEI4MDlFMDNGMDVDN0UyOTMiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz4ttYn+AAAA+UlEQVR42pSUgRGCMAxFSzfAOxZwBR0BR+gKOEIZQUeQEXQEVsARWADuWKGmmnptTCjm7l/4d00etKFqmiYDcqDBOaeo56Rw4YALa/Rj7Km0+sQV8wVzS3waoTqimRxNR/WhuyV0K5L+oWnSYxuNvi907XM0zewN3clfGncODG2JaVrxsUor3mPBxDzPPaQadK6qqgO/wHMJOkmkuHuD+RH8WlFY3GE2Xy9sxAE/fETfxJMvkSyh2OTwGcoeuy4cRSJJh9pKA5ulcKQ8hfyE5RYKJd02UQKJoazeSJp8SydcMEkUngJ59AYGcweD6cflDnqCP3JFLwEGACip9tzIHy+EAAAAAElFTkSuQmCC"}});
//# sourceMappingURL=4.0452149241c63936cfa7.js.map