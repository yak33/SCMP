{"version":3,"sources":["webpack:///src/view/reports/jiuzhen.vue","webpack:///./src/view/reports/jiuzhen.vue?0cbd","webpack:///./src/view/reports/jiuzhen.vue"],"names":["jiuzhen","data","listData","activeName","incomeData","nameListEchats","herbalmoneyListEchats","acupuncturemoneyListEchats","westernmoneyListEchats","inspectionmoneyListEchats","checkmoneyListEcharts","echartsOption","datePicker","pickerOptions2","myChart","total","tableArgs","searchText","pageSize","pageNumber","methods","handleClick","element","this","funDraw","funDataToIncom","funObjToEchatsList","funEcartsInit","funEcartsNumber","funNullToZero","row","column","cellValue","index","funGetDateOnly","split","chartNumber","echarts_default","a","init","document","querySelector","option","extends_default","legend","series","name","type","barWidth","forEach","push","deptname","outpatientcount","console","log","setOption","_this","find","item","usercode","herbalmoney","acupuncturemoney","westernmoney","inspectionmoney","checkmoney","username","_this2","tooltip","show","xAxis","yAxis","handleSearch","funGetListData","handlePageChange","_this3","obj","userCode","sessionStorage","getItem","beginDate","endDate","Object","api","then","res","code","rows","mounted","reports_jiuzhen","render","_vm","_h","$createElement","_c","_self","on","tab-click","model","value","callback","$$v","expression","attrs","label","_v","staticClass","span","suffix-icon","clearable","placeholder","$set","align","unlink-panels","value-format","range-separator","start-placeholder","end-placeholder","offset","size","click","directives","rawName","staticStyle","margin-top","width","prop","formatter","height","margin","id","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/25.a7f89aeef842ab349e4e.js","sourcesContent":["<template>\r\n<section>\r\n<el-tabs v-model=\"activeName\" @tab-click=\"handleClick\">\r\n    <el-tab-pane label=\"列表分析\" name=\"all\">\r\n    </el-tab-pane>\r\n    <el-tab-pane label=\"金额图表\" name=\"income\">\r\n    </el-tab-pane>\r\n    <el-tab-pane label=\"门诊数图表\" name=\"number\">\r\n    </el-tab-pane>\r\n  </el-tabs>\r\n  <!-- 公共头部 -->\r\n  <el-row>\r\n    <el-col :span=\"2\" class=\"top-bar-label\">筛选字段</el-col>\r\n        <el-col :span=\"6\">\r\n          <el-input suffix-icon=\"el-icon-search\" clearable=\"\" placeholder=\"请输入挂号序号、就诊号、姓名查询\"\r\n           v-model=\"tableArgs.searchText\"></el-input>\r\n        </el-col>\r\n        <el-col :span=\"2\" class=\"top-bar-label\">时间范围</el-col>\r\n        <el-col :span=\"8\">\r\n          <el-date-picker\r\n            v-model=\"datePicker\"\r\n            type=\"daterange\"\r\n            align=\"right\"\r\n            unlink-panels\r\n            value-format=\"yyyy-MM-dd\"\r\n            range-separator=\"至\"\r\n            start-placeholder=\"开始日期\"\r\n            end-placeholder=\"结束日期\">\r\n          </el-date-picker>\r\n        </el-col>\r\n        <el-col :offset=\"2\" :span=\"3\">\r\n          <el-button type=\"primary\" @click=\"handleSearch\" size=\"medium\">查询</el-button>\r\n        </el-col>\r\n    </el-row>\r\n    <!-- 列表 -->\r\n  <el-row style=\"margin-top: 24px;\" v-show=\"activeName == 'all'\">\r\n    <el-col>\r\n      <el-table :data=\"listData\" style=\"width: 100%\">\r\n        <el-table-column prop=\"registrationnum\" label=\"挂号序号\" width=\"120\"></el-table-column>\r\n        <el-table-column prop=\"mecidalnum\" label=\"就诊号\" width=\"120\"></el-table-column>\r\n        <el-table-column prop=\"emname\" label=\"姓名\"></el-table-column>\r\n        <el-table-column prop=\"onsetdate\" label=\"日期\" :formatter=\"funGetDateOnly\">\r\n        </el-table-column>\r\n        <el-table-column prop=\"username\" label=\"医生\" width=\"100\"></el-table-column>\r\n        <el-table-column prop=\"deptname\" label=\"科室\" width=\"100\"></el-table-column>\r\n        <el-table-column prop=\"herbalmoney\" :formatter=\"funNullToZero\" label=\"草药金额\" width=\"80\"></el-table-column>\r\n        <el-table-column prop=\"acupuncturemoney\" :formatter=\"funNullToZero\" label=\"针灸金额\" width=\"80\"></el-table-column>\r\n        <el-table-column prop=\"westernmoney\" :formatter=\"funNullToZero\" label=\"西药金额\" width=\"80\"></el-table-column>\r\n        <el-table-column prop=\"inspectionmoney\" :formatter=\"funNullToZero\" label=\"检验金额\" width=\"80\"></el-table-column>\r\n        <el-table-column prop=\"checkmoney\" :formatter=\"funNullToZero\" label=\"检查金额\" width=\"80\"></el-table-column>\r\n      </el-table>\r\n    </el-col>\r\n    <el-col>\r\n      <!-- <div :span=\"24\" class=\"toolbar\">\r\n        <el-pagination background layout=\"total, prev, pager, next, jumper\" @current-change=\"handlePageChange\" :current-page=\"tableArgs.pageNumber\" :page-size=\"tableArgs.pageSize\" :total=\"total\" style=\"float:right;\">\r\n        </el-pagination>\r\n      </div> -->\r\n    </el-col>\r\n  </el-row>\r\n <!-- 金额图表 -->\r\n  <el-row style=\"margin-top: 24px;\" v-show=\"activeName == 'income'\">\r\n    <el-col :span=\"24\">\r\n      <div id=\"main\" style=\"width: 1000px;height:300px;margin: 20px auto\"></div>\r\n    </el-col>\r\n  </el-row>\r\n   <!-- 门诊数图表 -->\r\n  <el-row style=\"margin-top: 24px;\" v-show=\"activeName == 'number'\">\r\n    <el-col :span=\"24\">\r\n      <div id=\"number\" style=\"width: 1000px;height:300px;margin: 20px auto\"></div>\r\n    </el-col>\r\n  </el-row>\r\n</section>\r\n</template>\r\n<script>\r\nimport {\r\n  getDoctorTreatmentRecord, // 根据日期段查询医生就诊记录\r\n} from '../../api'\r\nimport echarts from 'echarts'\r\nexport default {\r\n  data(){\r\n    return{\r\n      listData: [], // 列表数据\r\n      activeName: 'all',\r\n      incomeData: [], // 金额数据\r\n      nameListEchats: [], // \r\n      herbalmoneyListEchats: [], // 草药金额\r\n      acupuncturemoneyListEchats: [], // 西药金额\r\n      westernmoneyListEchats: [], // 检验金额\r\n      inspectionmoneyListEchats: [], // 检查金额\r\n      checkmoneyListEcharts: [], // \r\n      echartsOption: {}, // ec 选项\r\n      datePicker: '',\r\n      pickerOptions2: '',\r\n      myChart: null, // echarts \r\n      total: 0, // 总条数\r\n      tableArgs:{ // 查询参数\r\n        searchText:'',\r\n        pageSize: 99999,\r\n        pageNumber: 1,\r\n      }\r\n    }\r\n  },\r\n  methods:{\r\n    handleClick(element){ // 标签选择\r\n        this.funDraw()\r\n    },\r\n    funDraw(){ // 渲染图表\r\n      if(this.activeName == 'income'){\r\n        this.funDataToIncom()\r\n        this.funObjToEchatsList()\r\n        this.funEcartsInit()   \r\n      } \r\n      if(this.activeName == 'number'){\r\n        this.funDataToIncom()\r\n        this.funObjToEchatsList()\r\n        this.funEcartsNumber()\r\n      }\r\n    },\r\n    funNullToZero(row, column, cellValue, index){\r\n      if(cellValue == null){\r\n        return '0'\r\n      }else{\r\n        return cellValue\r\n      }\r\n    },\r\n    funGetDateOnly(row, column, cellValue, index){ // 日期去掉时间\r\n      if(cellValue){\r\n        return cellValue.split(' ')[0]\r\n      }\r\n    },\r\n    funEcartsNumber(){\r\n      let chartNumber = echarts.init(document.querySelector(\"#number\")) \r\n      let option = {...this.echartsOption}\r\n      option.legend.data = []\r\n      option.series = {\r\n            \"name\":\"就诊统计\",\r\n            \"type\":\"bar\",\r\n            \"barWidth\": \"40\",\r\n            \"data\":[]\r\n        }\r\n      this.incomeData.forEach(element=>{\r\n        option.legend.data.push(element.deptname)\r\n        option.series.data.push(element.outpatientcount)\r\n      })\r\n      console.log(option)\r\n      chartNumber.setOption(option)\r\n    },\r\n    funEcartsInit(){\r\n      this.myChart = echarts.init(document.querySelector(\"#main\")) \r\n       this.myChart.setOption(this.echartsOption)\r\n    },\r\n    funDataToIncom(){ // 列表数据转金额\r\n      this.incomeData = []\r\n      this.listData.forEach(element=>{\r\n        let tmp = this.incomeData.find(item=>{\r\n          if(item.usercode == element.usercode){\r\n            item.herbalmoney += element.herbalmoney\r\n            item.acupuncturemoney += element.acupuncturemoney\r\n            item.westernmoney += element.westernmoney\r\n            item.inspectionmoney += element.inspectionmoney\r\n            item.checkmoney += element.checkmoney\r\n            item.outpatientcount += element.outpatientcount\r\n            return true\r\n          }else{\r\n            return false\r\n          }\r\n        }\r\n        )\r\n        if(!tmp){\r\n          this.incomeData.push({\r\n            usercode: element.usercode,\r\n            username: element.username,\r\n            herbalmoney: 0,\r\n            acupuncturemoney: 0,\r\n            westernmoney: 0,\r\n            inspectionmoney: 0,\r\n            checkmoney: 0,\r\n            outpatientcount: 0,\r\n          })\r\n        }else{\r\n\r\n        }\r\n      })\r\n    },\r\n    funObjToEchatsList(){ // \r\n      this.nameListEchats = []\r\n      this.herbalmoneyListEchats = []\r\n      this.acupuncturemoneyListEchats = []\r\n      this.westernmoneyListEchats = []\r\n      this.inspectionmoneyListEchats = []\r\n      this.incomeData.forEach(element=>{\r\n        this.nameListEchats.push(element.username)\r\n        this.herbalmoneyListEchats.push(element.herbalmoney)\r\n        this.acupuncturemoneyListEchats.push(element.acupuncturemoney)\r\n        this.westernmoneyListEchats.push(element.westernmoney)\r\n        this.inspectionmoneyListEchats.push(element.inspectionmoney)\r\n        this.checkmoneyListEcharts.push(element.checkmoney)\r\n      })\r\n      this.echartsOption = {\r\n        tooltip: {  show: true  },\r\n        legend: { data: [\"草药金额\",\"针灸金额\",\"西药金额\",\"检验金额\",\"检查金额\"] },\r\n        xAxis: [{ type : 'category',  data: this.nameListEchats}],\r\n        yAxis: [{type : 'value'}],\r\n        series: [\r\n          {\r\n            \"name\":\"草药金额\",\r\n            \"type\":\"bar\",\r\n            \"data\":this.herbalmoneyListEchats\r\n          },\r\n          {\r\n            \"name\":\"针灸金额\",\r\n            \"type\":\"bar\",\r\n            \"data\":this.acupuncturemoneyListEchats\r\n          },\r\n          {\r\n            \"name\":\"西药金额\",\r\n            \"type\":\"bar\",\r\n            \"data\":this.westernmoneyListEchats\r\n          },\r\n          {\r\n            \"name\":\"检验金额\",\r\n            \"type\":\"bar\",\r\n            \"data\":this.inspectionmoneyListEchats\r\n          }\r\n          ,\r\n          {\r\n            \"name\":\"检查金额\",\r\n            \"type\":\"bar\",\r\n            \"data\":this.checkmoneyListEcharts\r\n          }\r\n        ]\r\n      }\r\n    },\r\n    handleSearch(){ // 查询\r\n      this.tableArgs.pageNumber = 1\r\n      this.funGetListData()\r\n    },\r\n    handlePageChange(index){ // 页码切换\r\n      this.tableArgs.pageNumber = index\r\n      this.funGetListData()\r\n    },\r\n    funGetListData(){ // 获取列表数据\r\n      let obj =  {     \r\n        userCode: sessionStorage.getItem('usercode'),\r\n        ...this.tableArgs\r\n      }\r\n      if(this.datePicker){\r\n        obj = { \r\n          beginDate: this.datePicker[0]?this.datePicker[0]: null,\r\n          endDate: this.datePicker[1]?this.datePicker[1]: null,\r\n          ...obj\r\n        }\r\n      }\r\n      getDoctorTreatmentRecord(obj).then(res=>{\r\n        if(res.data.code == '0'){\r\n          this.listData = res.data.data.rows\r\n          this.total = res.data.data.total\r\n        }else{\r\n          this.listData = []\r\n          this.total = 0\r\n        }\r\n      })\r\n    },\r\n  },\r\n  mounted(){\r\n //  this.funGetListData()\r\n  }\r\n}\r\n</script>\r\n<style scoped>\r\n.top-bar-label{\r\n  line-height: 40px;\r\n  text-align: center;\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/view/reports/jiuzhen.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',[_c('el-tabs',{on:{\"tab-click\":_vm.handleClick},model:{value:(_vm.activeName),callback:function ($$v) {_vm.activeName=$$v},expression:\"activeName\"}},[_c('el-tab-pane',{attrs:{\"label\":\"列表分析\",\"name\":\"all\"}}),_vm._v(\" \"),_c('el-tab-pane',{attrs:{\"label\":\"金额图表\",\"name\":\"income\"}}),_vm._v(\" \"),_c('el-tab-pane',{attrs:{\"label\":\"门诊数图表\",\"name\":\"number\"}})],1),_vm._v(\" \"),_c('el-row',[_c('el-col',{staticClass:\"top-bar-label\",attrs:{\"span\":2}},[_vm._v(\"筛选字段\")]),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":6}},[_c('el-input',{attrs:{\"suffix-icon\":\"el-icon-search\",\"clearable\":\"\",\"placeholder\":\"请输入挂号序号、就诊号、姓名查询\"},model:{value:(_vm.tableArgs.searchText),callback:function ($$v) {_vm.$set(_vm.tableArgs, \"searchText\", $$v)},expression:\"tableArgs.searchText\"}})],1),_vm._v(\" \"),_c('el-col',{staticClass:\"top-bar-label\",attrs:{\"span\":2}},[_vm._v(\"时间范围\")]),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":8}},[_c('el-date-picker',{attrs:{\"type\":\"daterange\",\"align\":\"right\",\"unlink-panels\":\"\",\"value-format\":\"yyyy-MM-dd\",\"range-separator\":\"至\",\"start-placeholder\":\"开始日期\",\"end-placeholder\":\"结束日期\"},model:{value:(_vm.datePicker),callback:function ($$v) {_vm.datePicker=$$v},expression:\"datePicker\"}})],1),_vm._v(\" \"),_c('el-col',{attrs:{\"offset\":2,\"span\":3}},[_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"medium\"},on:{\"click\":_vm.handleSearch}},[_vm._v(\"查询\")])],1)],1),_vm._v(\" \"),_c('el-row',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.activeName == 'all'),expression:\"activeName == 'all'\"}],staticStyle:{\"margin-top\":\"24px\"}},[_c('el-col',[_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.listData}},[_c('el-table-column',{attrs:{\"prop\":\"registrationnum\",\"label\":\"挂号序号\",\"width\":\"120\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"mecidalnum\",\"label\":\"就诊号\",\"width\":\"120\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"emname\",\"label\":\"姓名\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"onsetdate\",\"label\":\"日期\",\"formatter\":_vm.funGetDateOnly}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"username\",\"label\":\"医生\",\"width\":\"100\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"deptname\",\"label\":\"科室\",\"width\":\"100\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"herbalmoney\",\"formatter\":_vm.funNullToZero,\"label\":\"草药金额\",\"width\":\"80\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"acupuncturemoney\",\"formatter\":_vm.funNullToZero,\"label\":\"针灸金额\",\"width\":\"80\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"westernmoney\",\"formatter\":_vm.funNullToZero,\"label\":\"西药金额\",\"width\":\"80\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"inspectionmoney\",\"formatter\":_vm.funNullToZero,\"label\":\"检验金额\",\"width\":\"80\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"checkmoney\",\"formatter\":_vm.funNullToZero,\"label\":\"检查金额\",\"width\":\"80\"}})],1)],1),_vm._v(\" \"),_c('el-col')],1),_vm._v(\" \"),_c('el-row',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.activeName == 'income'),expression:\"activeName == 'income'\"}],staticStyle:{\"margin-top\":\"24px\"}},[_c('el-col',{attrs:{\"span\":24}},[_c('div',{staticStyle:{\"width\":\"1000px\",\"height\":\"300px\",\"margin\":\"20px auto\"},attrs:{\"id\":\"main\"}})])],1),_vm._v(\" \"),_c('el-row',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.activeName == 'number'),expression:\"activeName == 'number'\"}],staticStyle:{\"margin-top\":\"24px\"}},[_c('el-col',{attrs:{\"span\":24}},[_c('div',{staticStyle:{\"width\":\"1000px\",\"height\":\"300px\",\"margin\":\"20px auto\"},attrs:{\"id\":\"number\"}})])],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-61b8dfb2\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/view/reports/jiuzhen.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-61b8dfb2\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./jiuzhen.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./jiuzhen.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./jiuzhen.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-61b8dfb2\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./jiuzhen.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-61b8dfb2\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/view/reports/jiuzhen.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}