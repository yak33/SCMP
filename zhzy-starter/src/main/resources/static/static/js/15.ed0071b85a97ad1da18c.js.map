{"version":3,"sources":["webpack:///src/view/public/printPage.vue","webpack:///./src/view/public/printPage.vue?a9b5","webpack:///./src/view/public/printPage.vue"],"names":["printPage","data","tableData1","tableData2","info","dataChack1","dataChack2","nodeList","patinet","buttonShow","computed","isFinish","this","watch","methods","_this","timer","window","setTimeout","print","clearTimeout","mounted","_this2","id","$route","query","Object","api","registrationNum","drugFlag","then","res","arr","returnValueStr","match","document","querySelector","forEach","element","temp","split","push","title","substring","code","emName","deptName","emSex","emAge","$message","warning","public_printPage","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","span","_v","_s","_l","node","key","offset","on","click","_e","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/15.ed0071b85a97ad1da18c.js","sourcesContent":["<template>\r\n  <section class=\"print-box\">\r\n      <el-row class=\"print-inner\">\r\n        <el-col :span=\"24\" class=\"print-title\">\r\n        电 子 病 例 \r\n        </el-col>\r\n        <el-col :span=\"24\" class=\"print-patient\">\r\n          <span>姓名: {{patinet.emName }}</span>\r\n          <span>性别: {{patinet.emSex }}</span>\r\n          <span>年龄：{{patinet.emAge }}</span>\r\n          <span>科室：{{patinet.deptName }}</span>\r\n          <span>病历号：{{patinet.registrationNum }}</span>\r\n        </el-col>\r\n        <el-col class=\"case-info\" v-for=\"node in nodeList\" :key=\"node.title\">\r\n          <span class=\"title\">【{{node.title}}】</span> {{node.data}}\r\n        </el-col>\r\n        <el-col class=\"print-footer\">\r\n        </el-col>\r\n        <el-col :offset=\"16\">\r\n          医师签名(签章)：__________________\r\n        </el-col>\r\n        <el-col>\r\n              <el-button @click=\"printPage\" v-if='buttonShow'>开始打印</el-button>\r\n        </el-col>\r\n    </el-row>\r\n  </section>\r\n</template>\r\n<script>\r\nimport {\r\n  getEmpBasicInfo,\r\n  getSelectPatientInfoTable,\r\n} from '../../api'\r\nexport default {\r\n  data(){\r\n    return{\r\n      tableData1: [{data:1}],\r\n      tableData2: [],\r\n      info: '',\r\n      dataChack1: false,\r\n      dataChack2: false,\r\n      nodeList: [],// 病例信息\r\n      patinet: {} , // 患者信息\r\n      buttonShow: true,\r\n    }\r\n  },\r\n  computed:{\r\n    isFinish(){\r\n      if(this.dataChack1 && this.dataChack2){\r\n        return true\r\n      }else{\r\n        return false\r\n      }\r\n    }\r\n  },\r\n  watch:{\r\n    // isFinish(curVal){\r\n    //   if(curVal){\r\n    //     this.printPage()\r\n    //   }\r\n    // }\r\n  },\r\n  methods:{\r\n    printPage(){\r\n      this.buttonShow = false\r\n      let timer = window.setTimeout(()=>{\r\n        window.print()\r\n        clearTimeout(timer)\r\n       // window.close()\r\n        this.buttonShow = true\r\n      },100)\r\n    }\r\n  },\r\n  mounted(){\r\n    let id = this.$route.query.id || 0\r\n    if(id){\r\n        getEmpBasicInfo({\r\n        registrationNum: id,\r\n        drugFlag: 0\r\n        }).then(res=>{\r\n        let str = res.data.data[0].returnValueStr\r\n        let reg = /(【[\\u4e00-\\u9fa5]*】[^【]+)/g\r\n        let arr =str.match(reg)\r\n        let tpl = ''\r\n        let p = document.querySelector('#result')\r\n        arr.forEach(element => {\r\n          let temp = element.split('】')\r\n          let span = null\r\n          this.nodeList.push({\r\n            title: temp[0].substring(1),\r\n            data: temp[1] || '',\r\n          })\r\n          this.dataChack1 = true\r\n        })\r\n      // this.printPage()\r\n      })\r\n      getSelectPatientInfoTable({registrationNum: id}).then(res=>{\r\n        if(res.data.code==\"0\"){\r\n          this.patinet.emName = res.data.data.emName\r\n          this.patinet.deptName = res.data.data.deptName\r\n          this.patinet.registrationNum = res.data.data.registrationNum\r\n          this.patinet.emSex = res.data.data.emSex=='1'? '男' : '女'\r\n          this.patinet.emAge = res.data.data.emAge\r\n          this.dataChack2 = true\r\n        }\r\n      })\r\n    }else{\r\n      this.$message.warning('无效访问 请正常进入!')\r\n    }\r\n    \r\n  }\r\n}\r\n</script>\r\n<style scoped>\r\n.case-info{\r\n  font-size: 14px;\r\n  color: #555;\r\n  line-height: 20px;\r\n}\r\n.case-info .title{\r\n  font-size: 15px;\r\n  color: #333;\r\n}\r\n.case-info .title::before{\r\n  display: block;\r\n  content: ' ';\r\n  width: 100%;\r\n  height: 12px;\r\n}\r\n.case-info .el-table{\r\n  margin: 20px 6px;\r\n}\r\n.case-info .el-table i{\r\n  color: #3E85FA;\r\n  font-size: 22px;\r\n  cursor: pointer;\r\n}\r\n.print-box{\r\n  width: 100%;\r\n  background-color: #fff;\r\n  height: 100vh;\r\n}\r\n.print-inner{\r\n  width: 960px;\r\n  padding-top: 40px;\r\n  padding-left: 40px;\r\n}\r\n.print-inner .print-title{\r\n  font-size: 24px;\r\n  text-align: center;\r\n}\r\n.print-patient{\r\n  display: flex;\r\n  justify-content:space-between;\r\n  margin: 20px 0;\r\n  border-bottom: 1px solid #333;\r\n}\r\n.print-patient span{\r\n  line-height: 24px;\r\n}\r\n.print-footer{\r\n  margin-top: 36px;\r\n  padding: 42px;\r\n  border-top: 1px solid #333;\r\n}\r\n</style>\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// src/view/public/printPage.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{staticClass:\"print-box\"},[_c('el-row',{staticClass:\"print-inner\"},[_c('el-col',{staticClass:\"print-title\",attrs:{\"span\":24}},[_vm._v(\"\\n      电 子 病 例 \\n      \")]),_vm._v(\" \"),_c('el-col',{staticClass:\"print-patient\",attrs:{\"span\":24}},[_c('span',[_vm._v(\"姓名: \"+_vm._s(_vm.patinet.emName))]),_vm._v(\" \"),_c('span',[_vm._v(\"性别: \"+_vm._s(_vm.patinet.emSex))]),_vm._v(\" \"),_c('span',[_vm._v(\"年龄：\"+_vm._s(_vm.patinet.emAge))]),_vm._v(\" \"),_c('span',[_vm._v(\"科室：\"+_vm._s(_vm.patinet.deptName))]),_vm._v(\" \"),_c('span',[_vm._v(\"病历号：\"+_vm._s(_vm.patinet.registrationNum))])]),_vm._v(\" \"),_vm._l((_vm.nodeList),function(node){return _c('el-col',{key:node.title,staticClass:\"case-info\"},[_c('span',{staticClass:\"title\"},[_vm._v(\"【\"+_vm._s(node.title)+\"】\")]),_vm._v(\" \"+_vm._s(node.data)+\"\\n      \")])}),_vm._v(\" \"),_c('el-col',{staticClass:\"print-footer\"}),_vm._v(\" \"),_c('el-col',{attrs:{\"offset\":16}},[_vm._v(\"\\n        医师签名(签章)：__________________\\n      \")]),_vm._v(\" \"),_c('el-col',[(_vm.buttonShow)?_c('el-button',{on:{\"click\":_vm.printPage}},[_vm._v(\"开始打印\")]):_vm._e()],1)],2)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-d55855c8\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/view/public/printPage.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-d55855c8\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./printPage.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./printPage.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./printPage.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-d55855c8\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./printPage.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-d55855c8\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/view/public/printPage.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}