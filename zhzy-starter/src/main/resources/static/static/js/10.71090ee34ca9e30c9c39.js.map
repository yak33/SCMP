{"version":3,"sources":["webpack:///src/view/drug/list.vue","webpack:///./src/view/drug/list.vue?3131","webpack:///./src/view/drug/list.vue","webpack:///src/view/drug/warn.vue","webpack:///./src/view/drug/warn.vue?d749","webpack:///./src/view/drug/warn.vue","webpack:///src/view/drug/index.vue","webpack:///./src/view/drug/index.vue?bc84","webpack:///./src/view/drug/index.vue"],"names":["list","props","type","Number","default","data","tableData","total","loading","empbasicmainid","getType","infoVisible","zyusageCount","btn1","btn2","text1","text2","daiJian","xyList","zyList","tableArgs","sortName","sortOrder","pageSize","pageNumber","methods","getData","_this","this","Object","api","extends_default","takeflag","then","res","code","rows","catch","err","funTake","id","_this2","empBasicMainID","xyFlag","xyStatus","length","usageCount","zyFlag","zyStatus","funUpdata","_this3","itemType","$message","success","error","handlePageChange","index","mounted","drug_list","render","_vm","_h","$createElement","_c","_self","directives","name","rawName","value","expression","attrs","fit","border","prop","min-width","label","_v","align","scopedSlots","_u","key","fn","scope","staticClass","on","click","$event","row","span","staticStyle","float","background","layout","current-page","page-size","current-change","visible","title","center","width","update:visible","font-size","size","disabled","_s","_l","item","drugcode","drugname","quantity","_e","margin-top","prescriptionunitname","staticRenderFns","view_drug_list","__webpack_require__","normalizeComponent","ssrContext","warn","apply","undefined","toConsumableArray_default","fmtUnitname","drug_warn","formatter","drug","components","drug-list","drug-warn","warn_normalizeComponent","activeName","handleClick","funGetListData","$refs","subList","view_drug","tab-click","model","callback","$$v","ref","drug_Component","drug_normalizeComponent","__webpack_exports__"],"mappings":"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","file":"static/js/10.71090ee34ca9e30c9c39.js","sourcesContent":["<template>\r\n<section>\r\n  <el-table :data=\"tableData\" fit border v-loading=\"loading\">\r\n    <el-table-column prop=\"registrationNum\" min-width=\"120\" label=\"挂号序号\"></el-table-column>\r\n    <el-table-column prop=\"mecidalNum\" min-width=\"110\"  label=\"就诊号\"></el-table-column>\r\n    <el-table-column prop=\"emName\" min-width=\"100\" label=\"姓名\"></el-table-column>\r\n    <el-table-column prop=\"makeDate\" min-width=\"160\" label=\"就诊日期\"></el-table-column>\r\n    <el-table-column prop=\"userName\" min-width=\"100\" label=\"开单医生\"></el-table-column>\r\n    <el-table-column prop=\"paystatusstr\" min-width=\"70\" label=\"缴费状态\"></el-table-column>\r\n    <el-table-column prop=\"takeflagstr\" min-width=\"70\" label=\"取药状态\"></el-table-column>\r\n    <el-table-column prop=\"date\" label=\"操作\" align=\"center\">\r\n      <template slot-scope=\"scope\">\r\n        <span class=\"link-blue\" @click=\"funTake(scope.row.empbasicmainid)\">放药</span>\r\n      </template>\r\n    </el-table-column>\r\n  </el-table>\r\n  <div :span=\"24\" class=\"toolbar\">\r\n    <el-pagination background layout=\"total, prev, pager, next, jumper\" @current-change=\"handlePageChange\" :current-page=\"tableArgs.pageNumber\" :page-size=\"tableArgs.pageSize\" :total=\"total\" style=\"float:right;\">\r\n    </el-pagination>\r\n  </div>\r\n<el-dialog\r\n      :visible.sync=\"infoVisible\"\r\n      title=\"药物信息\"\r\n      center\r\n      width=\"60%\">\r\n      <el-row v-if=\"zyList.length\">\r\n        <el-col :span=\"12\" align=\"left\" style=\"font-size: 18px;\">中药</el-col>\r\n        <el-col :span=\"12\" align=\"right\">\r\n          <el-button size=\"medium\" type=\"primary\" @click=\"funUpdata(0)\" :disabled=\"btn1\">{{text1}}</el-button>\r\n        </el-col>\r\n        <el-col :span=\"24\" class=\"zyitem\">\r\n          <span v-for=\"item in zyList\" :key=\"item.drugcode\">\r\n            {{item.drugname}} {{item.quantity}}g ;\r\n          </span>\r\n        </el-col>\r\n        <el-col class=\"zyfooter\" :span=\"24\">\r\n          <div class=\"zyfooter-inner\">\r\n            <span>付数：{{zyusageCount}}</span>\r\n            <span>代煎：{{daiJian == 1? '是': '否'}}</span>\r\n          </div>\r\n        </el-col>\r\n      </el-row>\r\n      <el-row v-if=\"xyList.length\" style=\"margin-top: 22px\">\r\n        <el-col :span=\"12\" align=\"left\" style=\"font-size: 18px;\">西药</el-col>\r\n        <el-col :span=\"12\" align=\"right\">\r\n          <el-button size=\"medium\" type=\"primary\" @click=\"funUpdata(1)\" :disabled=\"btn2\">{{text2}}</el-button>\r\n        </el-col>\r\n        <el-col :span=\"24\" class=\"xyitem\">\r\n          <p v-for=\"item in xyList\" :key=\"item.drugcode\">\r\n            {{item.drugname}}&nbsp;&nbsp;&nbsp;&nbsp;{{item.quantity}}{{item.prescriptionunitname}} ;\r\n          </p>\r\n        </el-col>\r\n      </el-row>\r\n    </el-dialog>\r\n</section>\r\n</template>\r\n<script>\r\nimport {\r\n  getAllPhaList,\r\n  getDrugDetail,\r\n  updateTakeFlag,\r\n } from \"../../api\";\r\nimport {mapState} from 'vuex'\r\nexport default {\r\n  props: {\r\n    type: {\r\n      type: Number,\r\n      default: 0\r\n    }\r\n  },\r\n  data(){\r\n    return{\r\n      tableData: [], // 图表数据\r\n      total: 0, // 数据条数\r\n      loading: true, // 显示加载\r\n      empbasicmainid: '', //\r\n      getType: '', //\r\n      infoVisible: false, // 药品信息\r\n      zyusageCount: 0, // 中药付数\r\n      btn1: true,\r\n      btn2: true,\r\n      text1: '放 药',\r\n      text2: '放 药',\r\n      daiJian: '', // 是否代煎\r\n      xyList: [], // 西药列表\r\n      zyList: [], // 中药列表\r\n      tableArgs:{ // 查询参数\r\n      //  searchText:'',\r\n        sortName: 'makeDate',\r\n        sortOrder: 'asc',\r\n        pageSize: 10,\r\n        pageNumber: 1,\r\n      }\r\n    }\r\n  },\r\n  methods:{\r\n    getData(){\r\n      this.loading = true\r\n      // this.tableArgs.pageNumber = index ? index : this.tableArgs.pageNumber\r\n      getAllPhaList({takeflag: this.type,...this.tableArgs}).then(res=>{\r\n        this.loading = false\r\n        if(res.data.code == '0'){\r\n          this.tableData = res.data.data.rows\r\n          this.total = res.data.data.total\r\n        }else{\r\n          this.tableData = []\r\n          this.total = 0\r\n        }\r\n      }).catch( err => {\r\n        this.loading = false\r\n      })\r\n    },\r\n    funTake(id){ // 取药\r\n      this.empbasicmainid = id\r\n      getDrugDetail({\r\n        empBasicMainID: id\r\n      }).then(res=>{\r\n        if(res.data.code == '0'){\r\n          this.btn1 = false\r\n          this.btn2 = false\r\n          this.text1 = '放 药'\r\n          this.text2 = '放 药'\r\n          if(res.data.data.xyList){\r\n            this.xyList = res.data.data.xyList\r\n            let xyFlag = res.data.data.xyFlag\r\n            let xyStatus = res.data.data.xyList.length ? res.data.data.xyList[0].takeflag : 1\r\n            if(xyFlag == 0){\r\n              this.text2 = '未付款'\r\n              this.btn2 = true\r\n            }\r\n            if(xyStatus == 1){\r\n              this.text2 = '已放药'\r\n              this.btn2 = true\r\n            }\r\n          }\r\n          if(res.data.data.zyList){\r\n            this.zyList = res.data.data.zyList\r\n            this.zyusageCount = res.data.data.usageCount\r\n            this.daiJian = res.data.data.daiJian\r\n            let zyFlag = res.data.data.zyFlag\r\n            let zyStatus = res.data.data.zyList.length ? res.data.data.zyList[0].takeflag : 1\r\n              if(zyFlag == 0){\r\n              this.text1 = '未付款'\r\n              this.btn1 = true\r\n            }\r\n            if(zyStatus == 1){\r\n              this.text1 = '已放药'\r\n              this.btn1 = true\r\n            }\r\n          }\r\n        }\r\n      })\r\n      this.infoVisible = true\r\n    },\r\n    funUpdata(type){\r\n      updateTakeFlag({\r\n        empBasicMainID: this.empbasicmainid,\r\n        itemType: type\r\n      }).then(res=>{\r\n        if(res.data.code == '0'){\r\n          this.$message.success('放药成功!')\r\n          this.infoVisible = false\r\n        }else{\r\n          this.$message.error('放药失败!')\r\n        }\r\n      })\r\n    },\r\n    handlePageChange(index){ // 页码切换\r\n      this.tableArgs.pageNumber = index\r\n      this.getData()\r\n    },\r\n  },\r\n  mounted () {\r\n    this.getData()\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.link-blue{\r\n  text-align: center;\r\n  color: #3E85FA;\r\n  cursor: pointer;\r\n}\r\n.zyitem{\r\n  margin-top: 8px;\r\n  padding: 10px;\r\n  padding-bottom: 24px;\r\n  background-color: #FAF7F6;\r\n}\r\n.zyfooter{\r\n  padding: 10px 24px;\r\n  background-color: #FAF7F6;\r\n}\r\n.zyfooter .zyfooter-inner{\r\n  border-top: 1px solid #ccc;\r\n  width: 100%;\r\n}\r\n.zyfooter span{\r\n  margin: 0 10px;\r\n  line-height: 30px;\r\n}\r\n.zyitem span{\r\n  display: inline-block;\r\n  text-align: center;\r\n  line-height: 30px;\r\n  min-width: 100px;\r\n}\r\n.xyitem{\r\n  margin-top: 8px;\r\n  margin-bottom: 24px;\r\n  padding: 10px;\r\n  background-color: #FAF7F6;\r\n}\r\n.xyitem p{\r\n  padding-left: 12px;\r\n  line-height: 30px;\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/view/drug/list.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',[_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],attrs:{\"data\":_vm.tableData,\"fit\":\"\",\"border\":\"\"}},[_c('el-table-column',{attrs:{\"prop\":\"registrationNum\",\"min-width\":\"120\",\"label\":\"挂号序号\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"mecidalNum\",\"min-width\":\"110\",\"label\":\"就诊号\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"emName\",\"min-width\":\"100\",\"label\":\"姓名\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"makeDate\",\"min-width\":\"160\",\"label\":\"就诊日期\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"userName\",\"min-width\":\"100\",\"label\":\"开单医生\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"paystatusstr\",\"min-width\":\"70\",\"label\":\"缴费状态\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"takeflagstr\",\"min-width\":\"70\",\"label\":\"取药状态\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"date\",\"label\":\"操作\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',{staticClass:\"link-blue\",on:{\"click\":function($event){_vm.funTake(scope.row.empbasicmainid)}}},[_vm._v(\"放药\")])]}}])})],1),_vm._v(\" \"),_c('div',{staticClass:\"toolbar\",attrs:{\"span\":24}},[_c('el-pagination',{staticStyle:{\"float\":\"right\"},attrs:{\"background\":\"\",\"layout\":\"total, prev, pager, next, jumper\",\"current-page\":_vm.tableArgs.pageNumber,\"page-size\":_vm.tableArgs.pageSize,\"total\":_vm.total},on:{\"current-change\":_vm.handlePageChange}})],1),_vm._v(\" \"),_c('el-dialog',{attrs:{\"visible\":_vm.infoVisible,\"title\":\"药物信息\",\"center\":\"\",\"width\":\"60%\"},on:{\"update:visible\":function($event){_vm.infoVisible=$event}}},[(_vm.zyList.length)?_c('el-row',[_c('el-col',{staticStyle:{\"font-size\":\"18px\"},attrs:{\"span\":12,\"align\":\"left\"}},[_vm._v(\"中药\")]),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":12,\"align\":\"right\"}},[_c('el-button',{attrs:{\"size\":\"medium\",\"type\":\"primary\",\"disabled\":_vm.btn1},on:{\"click\":function($event){_vm.funUpdata(0)}}},[_vm._v(_vm._s(_vm.text1))])],1),_vm._v(\" \"),_c('el-col',{staticClass:\"zyitem\",attrs:{\"span\":24}},_vm._l((_vm.zyList),function(item){return _c('span',{key:item.drugcode},[_vm._v(\"\\r\\n            \"+_vm._s(item.drugname)+\" \"+_vm._s(item.quantity)+\"g ;\\r\\n          \")])})),_vm._v(\" \"),_c('el-col',{staticClass:\"zyfooter\",attrs:{\"span\":24}},[_c('div',{staticClass:\"zyfooter-inner\"},[_c('span',[_vm._v(\"付数：\"+_vm._s(_vm.zyusageCount))]),_vm._v(\" \"),_c('span',[_vm._v(\"代煎：\"+_vm._s(_vm.daiJian == 1? '是': '否'))])])])],1):_vm._e(),_vm._v(\" \"),(_vm.xyList.length)?_c('el-row',{staticStyle:{\"margin-top\":\"22px\"}},[_c('el-col',{staticStyle:{\"font-size\":\"18px\"},attrs:{\"span\":12,\"align\":\"left\"}},[_vm._v(\"西药\")]),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":12,\"align\":\"right\"}},[_c('el-button',{attrs:{\"size\":\"medium\",\"type\":\"primary\",\"disabled\":_vm.btn2},on:{\"click\":function($event){_vm.funUpdata(1)}}},[_vm._v(_vm._s(_vm.text2))])],1),_vm._v(\" \"),_c('el-col',{staticClass:\"xyitem\",attrs:{\"span\":24}},_vm._l((_vm.xyList),function(item){return _c('p',{key:item.drugcode},[_vm._v(\"\\r\\n            \"+_vm._s(item.drugname)+\"    \"+_vm._s(item.quantity)+_vm._s(item.prescriptionunitname)+\" ;\\r\\n          \")])}))],1):_vm._e()],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-270876b8\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/view/drug/list.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-270876b8\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./list.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./list.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./list.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-270876b8\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./list.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-270876b8\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/view/drug/list.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div>\r\n    <el-table :data=\"tableData\" fit border v-loading=\"loading\">\r\n    <el-table-column prop=\"drugname\" min-width=\"120\" label=\"药品名称\"></el-table-column>\r\n    <el-table-column prop=\"inputcode\" min-width=\"70\" label=\"拼音码\"></el-table-column>\r\n    <el-table-column prop=\"othername\" min-width=\"210\"  label=\"药品别名\"></el-table-column>\r\n    <el-table-column prop=\"remainamount\" min-width=\"100\" label=\"库存量\"></el-table-column>\r\n    <el-table-column prop=\"warningamount\" min-width=\"160\" label=\"预警值\"></el-table-column>\r\n    <el-table-column prop=\"danwei\" min-width=\"100\" label=\"单位\" :formatter=\"fmtUnitname\"></el-table-column>\r\n  </el-table>\r\n  <div :span=\"24\" class=\"toolbar\">\r\n    <el-pagination background layout=\"total, prev, pager, next, jumper\" @current-change=\"handlePageChange\" :current-page=\"tableArgs.pageNumber\" :page-size=\"tableArgs.pageSize\" :total=\"total\" style=\"float:right;\">\r\n    </el-pagination>\r\n  </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {\r\n  getWarningList\r\n } from \"../../api\";\r\nexport default {\r\n  data () {\r\n    return {\r\n      tableData: [], // 图表数据\r\n      total: 0, // 数据条数\r\n      loading: true, // 显示加载\r\n      tableArgs:{ // 查询参数\r\n      //  searchText:'',\r\n        sortName: 'makeDate',\r\n        sortOrder: 'asc',\r\n        pageSize: 10,\r\n        pageNumber: 1,\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    getData () {\r\n      this.loading = true\r\n      getWarningList(...this.tableArgs).then(res => {\r\n        if (res.data.code === '0') {\r\n          this.tableData = res.data.data.rows\r\n          this.total = res.data.data.total\r\n        } else {\r\n          this.$message.error('获取数据失败!')\r\n        }\r\n        this.loading = false\r\n      }).catch(err => { this.loading = false })\r\n    },\r\n    handlePageChange () {\r\n\r\n    },\r\n    fmtUnitname(row){ // 列表单位名称修正\r\n      if(row.prescriptionunitname){\r\n        return row.prescriptionunitname\r\n      }else{\r\n        return 'g'\r\n      }\r\n    }\r\n  },\r\n  mounted () {\r\n    this.getData()\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/view/drug/warn.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],attrs:{\"data\":_vm.tableData,\"fit\":\"\",\"border\":\"\"}},[_c('el-table-column',{attrs:{\"prop\":\"drugname\",\"min-width\":\"120\",\"label\":\"药品名称\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"inputcode\",\"min-width\":\"70\",\"label\":\"拼音码\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"othername\",\"min-width\":\"210\",\"label\":\"药品别名\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"remainamount\",\"min-width\":\"100\",\"label\":\"库存量\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"warningamount\",\"min-width\":\"160\",\"label\":\"预警值\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"danwei\",\"min-width\":\"100\",\"label\":\"单位\",\"formatter\":_vm.fmtUnitname}})],1),_vm._v(\" \"),_c('div',{staticClass:\"toolbar\",attrs:{\"span\":24}},[_c('el-pagination',{staticStyle:{\"float\":\"right\"},attrs:{\"background\":\"\",\"layout\":\"total, prev, pager, next, jumper\",\"current-page\":_vm.tableArgs.pageNumber,\"page-size\":_vm.tableArgs.pageSize,\"total\":_vm.total},on:{\"current-change\":_vm.handlePageChange}})],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-6e0258b7\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/view/drug/warn.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-6e0258b7\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./warn.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./warn.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./warn.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-6e0258b7\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./warn.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/view/drug/warn.vue\n// module id = null\n// module chunks = ","<template>\r\n<section>\r\n  <el-tabs v-model=\"activeName\" type=\"card\" @tab-click=\"handleClick\">\r\n    <el-tab-pane label=\"未取药\" name=\"list_noTake\">\r\n      <drug-list :type = \"0\" ref=\"subList\"></drug-list>\r\n    </el-tab-pane>\r\n    <el-tab-pane label=\"已取药\" name=\"list_taked\">\r\n      <drug-list :type = \"1\" ref=\"subList\"></drug-list>\r\n    </el-tab-pane>\r\n\r\n    <el-tab-pane label=\"库存提醒\" name=\"list_warn\">\r\n      <drug-warn></drug-warn>\r\n    </el-tab-pane>\r\n  </el-tabs>\r\n</section>\r\n</template>\r\n<script>\r\nimport list from './list'\r\nimport warn from './warn'\r\nexport default {\r\n  components:{\r\n    'drug-list': list,\r\n    'drug-warn': warn,\r\n  },\r\n  data(){\r\n    return{\r\n      activeName: 'list_noTake',\r\n    }\r\n  },\r\n  methods:{\r\n    handleClick(value){\r\n      // let type = 0\r\n      // if(value.name == 'list_taked'){\r\n      //   type = 1\r\n      // }\r\n      // this.funGetListData(type)\r\n    },\r\n    funGetListData(type){\r\n      this.$refs.subList.getData(type,1)\r\n    }\r\n  },\r\n  mounted(){\r\n    // this.funGetListData(0)\r\n  }\r\n}\r\n</script>\r\n<style scoped>\r\n\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/view/drug/index.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',[_c('el-tabs',{attrs:{\"type\":\"card\"},on:{\"tab-click\":_vm.handleClick},model:{value:(_vm.activeName),callback:function ($$v) {_vm.activeName=$$v},expression:\"activeName\"}},[_c('el-tab-pane',{attrs:{\"label\":\"未取药\",\"name\":\"list_noTake\"}},[_c('drug-list',{ref:\"subList\",attrs:{\"type\":0}})],1),_vm._v(\" \"),_c('el-tab-pane',{attrs:{\"label\":\"已取药\",\"name\":\"list_taked\"}},[_c('drug-list',{ref:\"subList\",attrs:{\"type\":1}})],1),_vm._v(\" \"),_c('el-tab-pane',{attrs:{\"label\":\"库存提醒\",\"name\":\"list_warn\"}},[_c('drug-warn')],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-6c2f1c9e\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/view/drug/index.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-6c2f1c9e\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./index.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-6c2f1c9e\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./index.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-6c2f1c9e\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/view/drug/index.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}